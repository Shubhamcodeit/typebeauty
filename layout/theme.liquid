<!doctype html>
<html class="no-js" lang="{{ request.locale.iso_code }}">
  <head>
<script src='https://d24sh1msnqkirc.cloudfront.net/shopflo.bundle.js' async></script>

{{ 'theme.js' | asset_url | preload_tag: as: 'script' }}

    <link rel="preload" as="style" href="{{ 'theme.css' | asset_url }}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css">
<script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="theme-color" content="">
    <link rel="canonical" href="{{ canonical_url }}">

    <meta name="p:domain_verify" content="bf6b863d96f918272b76b15fcc22806a">
    <link href="https://fonts.googleapis.com/css?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-2WS96SVLNW" defer></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-2WS96SVLNW');
    </script>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-2WS96SVLNW"></script>
    <meta name="google-site-verification" content="rqBauEBod6OMJp3HqxsgSBgcpUAZRHDrjp2Z9da0Myg">
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-2WS96SVLNW');
    </script>





    <script type="text/javascript">
      (function(c,l,a,r,i,t,y){
          c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
          t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
          y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
      })(window, document, "clarity", "script", "hufk07l0r4");
    </script>
    <link href="https://assets.calendly.com/assets/external/widget.css" rel="stylesheet">
    <script src="https://assets.calendly.com/assets/external/widget.js" type="text/javascript" async></script>
    <script>
      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-WFCM5C2');
    </script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-2WS96SVLNW"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-2WS96SVLNW');
    </script>

    <meta name="google-site-verification" content="WDMt7hcVUjtT7v0aH1jSV8HAHD2FnApygg6B8m-gfSs">
    <script async src="https://www.googletagmanager.com/gtag/js?id=AW-10906618666"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
       gtag('config', 'AW-10906618666');
    </script>
    <style>
      body{
      overflow-x: hidden;
      }
    </style>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, height=device-height, minimum-scale=1.0">
    <script
      src="https://code.jquery.com/jquery-3.6.0.min.js"
      integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
      crossorigin="anonymous"
    ></script>
    <script type="text/javascript" src="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css">
    <script src="//cdn.shopify.com/s/files/1/0068/1836/5529/t/4/assets/papaparse.js?v=14160904763589616364"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!--
      <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    -->
    {%- if settings.favicon != blank -%}
      <link rel="icon" type="image/png" href="{{ settings.favicon | image_url: width: 32, height: 32 }}">
    {%- endif -%}

    {%- capture seo_title -%}
    {%- if template contains 'search' -%}
      {{ search.terms | replace: '*', '' | split: ' AND ' | last }} - {{ shop.name | escape }}
    {%- else -%}
      {{ page_title }}{% if current_tags %}{% assign meta_tags = current_tags | join: ', ' %} &ndash; {{ 'general.meta.tags' | t: tags: meta_tags }}{% endif %}{% if current_page != 1 %} &ndash; {{ 'general.meta.page' | t: page: current_page }}{% endif %}{% unless page_title contains shop.name %} &ndash; {{ shop.name | escape }}{% endunless %}
    {%- endif -%}
  {%- endcapture -%}

    <title>{{ seo_title }}</title>

    {%- if page_description -%}
      <meta name="description" content="{{ page_description | escape }}">
    {%- endif -%}

    {%- render 'open-graph' -%}
    {%- render 'microdata-schema' -%}

    <link rel="preconnect" href="https://cdn.shopify.com">
    {%- unless settings.headings_font.system? and settings.body_font.system? -%}
      <link rel="preconnect" href="https://fonts.shopifycdn.com" crossorigin>
    {%- endunless -%}

    {%- render 'head-preloader' -%}
    {%- render 'head-variables' -%}

 

    {{ 'theme.css' | asset_url | stylesheet_tag }}

    {% if template.name == 'index'
      or template contains 'pdp-tlpc'
      or template contains 'pdp-lipstick'
      or template contains 'lustre'
      or template contains 'bright'
      or template contains 'hydrate'
      or template contains 'matt'
        or template contains 'oil'
        or template contains 'ss'
    %}
      {{ 'home-tlpc.css' | asset_url | stylesheet_tag }}
    {% endif %}
    {% if template contains 'pdp-tlpc' or template contains 'pdp-lipstick' or template contains 'lustre' or template contains 'matt' or template contains 'bright' or template contains 'hydrate'  or template contains 'oil' or template contains 'ss' %}
      {{ 'pdp-tlpc.css' | asset_url | stylesheet_tag }}
    {% endif %}

    {{ content_for_header }}


    {%- if template == 'customers/addresses' -%}
      <script src="{{ 'shopify_common.js' | shopify_asset_url }}" defer></script>
      <script src="{{ 'customer_area.js' | shopify_asset_url }}" defer></script>
    {%- endif -%}

    <script>
    const ProductHeaderHelper = productSelector => {
      const originalHeader = document.querySelector(`${productSelector} .product__header`);
      let duplicateHeader = document.createElement('div');
      duplicateHeader.classList = 'product__header-mobile hide smaller-lap--show-block';
      duplicateHeader.innerHTML = document.querySelector(`${productSelector} product-header`).innerHTML;
      duplicateHeader.querySelector('.product__price').id = "";
      document.querySelector(`${productSelector}`).prepend(duplicateHeader);
      duplicateHeader = duplicateHeader.querySelector('.product__header');
      const headerObserver = new MutationObserver(mutations=>{
        for ( const mutation of mutations ) {
          duplicateHeader.innerHTML = originalHeader.innerHTML;
        }
      });
      headerObserver.observe(originalHeader,{ attributes: false, childList: true, subtree: true })
    }
    </script>

    <noscript>
      {{ 'theme-noscript.css' | asset_url | stylesheet_tag }}
    </noscript>

    <script src="{{ 'custom.js' | asset_url }}{{ "now" | date: "%Y%m%d%H%M" }}" defer></script>

    {% if content_for_header contains 'fastbundle.co' %}
      {% render 'fast_bundle_service' %}
    {% endif %}

    {% include 'sca-quick-view-init' %}
    {% include 'vastpromotion.qv.initializer' %}
  </head>
  <body
    id="{{ page_title | handle }}"
    class="{% if customer %}customer-logged-in {% endif %}template-{{ template.name }} template-{{ template | replace: '.', ' ' | handle }} no-touchevents image-reveal--{{ settings.image_reveal }}"
  >
    {% if content_for_header contains 'tapita-seo-script-tags' %}
      {%- capture tapita-seo-snippets -%}
{% include 'tapita-page-speed-status' %}
{%- if tapitaPageSpeedStatus -%}
{% include 'tapita-splash-img' %}
{%- endif -%}
{%- endcapture -%}
      {%- unless tapita-seo-snippets contains 'Liquid error' -%}
        {{ tapita-seo-snippets }}
      {%- endunless -%}
    {% endif %}

    {% include 'no-select-popup' %}
    <noscript
      ><iframe
        src="https://www.googletagmanager.com/ns.html?id=GTM-WFCM5C2"
        height="0"
        width="0"
        style="display:none;visibility:hidden"
      ></iframe
    ></noscript>
    <script>
      if ('loading' in HTMLImageElement.prototype) {
        document.body.classList.add('loading-support');
      }
    </script>

    <a href="#main" class="visually-hidden skip-to-content" tabindex="1">
      {{- 'general.accessibility_labels.skip_to_content' | t -}}
    </a>

    {%- section 'announcement-bar' -%}
    {%- section 'header' -%}

    <main id="main" class="page-content">
      {%- render 'breadcrumb' -%}
      {{ content_for_layout }}
    </main>

    {%- section 'text-columns-with-icons' -%}
    {%- section 'footer' -%}
    {%- section 'popup' -%}
    {% render 'quick-view-modal' %}

    <div class="page-overlay"></div>

    <script>
    window.preloadImages = (element=document)=> {
      let lazyImages = element.querySelectorAll('img.lazy');
      for (let img of lazyImages) {
        if (!img.complete) {
          img.addEventListener('load', lazyImageLoad, false);
        } else if (img.complete) {
          lazyImageLoad({currentTarget: img});
        }
      }
      function lazyImageLoad(e) {
        e.currentTarget.classList.add('lazyloaded');
      }
    }
    window.preloadImages();

    window.prlxElementsPusher = function(element) {
      let elements = element.querySelectorAll('[data-scroll-speed]');
      if ( element.classList.contains('mount-parallax-w-padding' ) ) {
        let i = elements.length-1;
        while(i >= 0){
          if ( Number(elements[i].getAttribute('data-scroll-speed')) < 0 ) {
            elements[i].setAttribute('data-scroll-speed', '-.1');
            break;
          }
          i--;
        }
      }
      elements.forEach(function(element){
        window.prlxElements.push({
          element: element,
          factor: Number(element.getAttribute('data-scroll-speed')),
          parent: document.getElementById(element.getAttribute('data-scroll-parent')),
          mirror: element.hasAttribute('data-scroll-mirror'),
          resistance: element.hasAttribute('data-scroll-resistance')
        });
      });
    }

    window.prlxElements = [];
    window.prlxRaf = true;
    document.querySelectorAll('.mount-parallax').forEach(function(element){
      window.prlxElementsPusher(element);
    });

    window.addEventListener('scroll', function(){
      if ( window.prlxRaf ) {
        window.prlxRaf = false;
        requestAnimationFrame(window.prlxAnimation.bind(this));
      }
    }, {passive: true});

    window.prlxAnimation = function(){
      const windowHeight = document.documentElement.clientHeight;
      const windowWidth = document.documentElement.clientWidth;
      window.prlxElements.forEach(function(item, i){
        let elementY = item.element.getBoundingClientRect().y;
        if ( item.resistance ) {
          let parentY = item.parent.getBoundingClientRect().y - windowHeight;
          if ( parentY < 0 && Math.abs(parentY) < (item.parent.offsetHeight + windowHeight) ) {
            let prlx = Math.abs(parentY) * Math.min(windowHeight, windowWidth) / (item.parent.offsetHeight + windowHeight);
            item.element.style.transform = 'translateY(' + (prlx) + 'px)';
          }
        } else {
          if ( elementY < windowHeight * 2 && elementY > (item.element.offsetHeight + windowHeight)*-1 ) {
            let prlx = 0;
            if ( item.parent ) {
              prlx = (item.parent.getBoundingClientRect().y - (windowHeight - item.parent.offsetHeight)/2) * item.factor;
              if ( windowWidth < 600 ) {
                prlx /= 2;
              }
              if ( item.mirror && prlx < 0 ) {
                prlx = 0;
              }
            } else {
              prlx = Math.round(((window.scrollY + windowHeight) - (item.element.offsetTop))*item.factor / -2);
              if ( item.padding ) {
                if ( prlx >= 0 ) {
                  item.element.parentElement.style.paddingBottom = prlx + 'px';
                } else {
                  item.element.parentElement.style.paddingBottom = '0px';
                }
              }
            }
            if ( Math.abs(prlx) < windowHeight ) {
              item.element.style.transform = 'translateY(' + (prlx) + 'px)';
            }
          }
        }
      });
      this.prlxRaf = true;
    }

    window.prlxAnimation();

    window.addEventListener('resize', function(){
      window.prlxAnimation();
    });

    if ( 'ontouchstart' in window || window.DocumentTouch && document instanceof DocumentTouch ) {
      document.querySelector('body').classList.remove('no-touchevents');
      document.querySelector('body').classList.add('touchevents');
    } 

    KROWN = {
      settings: {
        shop_money_format: '{{ shop.money_format }}',
        cart_action: "{{ settings.cart_action }}",
        routes: {
          cart_url: "{{ routes.cart_url }}",
          cart_add_url: "{{ routes.cart_add_url }}",
          cart_change_url: "{{ routes.cart_change_url }}",
          predictive_search_url: "{{ routes.predictive_search_url }}"
        },
        locales: {
          cart_add_error: `{{ 'cart.add_error' | t }}`,
          cart_general_error: `{{ 'cart.general_error' | t }}`,
          products_add_to_cart_button: `{{ 'product.page.add_to_cart_button' | t }}`,
          products_sold_out_variant: `{{ 'product.inventory.sold_out_variant' | t }}`,
          products_unavailable_variant: `{{ 'product.inventory.unavailable_variant' | t }}`,
          products_one_product: `{{ 'product.inventory.one_product' | t }}`,
          products_few_products: `{{ 'product.inventory.few_products' | t }}`,
          products_no_products: `{{ 'product.inventory.no_products' | t }}`,
          products_preorder: `{{ 'product.inventory.selling_when_out_of_stock' | t }}`,
          product_sku: `{{ 'product.page.sku' | t }}`,
          product_barcode: `{{ 'product.page.barcode' | t }}`,
          product_read_review: `{{ 'product.read_full_review' | t }}`,
          next: `{{ 'general.accessibility_labels.next' | t }}`,
          prev: `{{ 'general.accessibility_labels.previous' | t }}`
        },
        symbols: {
          arrow: `{%- render 'theme-symbols', icon: 'arrow-right' -%}`,
          zoom_out: `{%- render 'theme-symbols', icon: 'zoom-out' -%}`,
          star: `{%- render 'theme-symbols', icon: 'star' -%}`,
          plus: `{%- render 'theme-symbols', icon: 'plus' -%}`,
          toggle_pack: `<svg aria-hidden="true" focusable="false" role="presentation" class="symbol symbol--minus" width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.48511 7.00293H15.4852V9.13403H1.48511V7.00293Z" fill="#111111"/></svg><svg aria-hidden="true" focusable="false" role="presentation" class="symbol symbol--plus" width="17" height="18" viewBox="0 0 17 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.48517 7.48145H15.4852V9.61255H1.48517V7.48145Z" fill="#111111"/><path d="M9.48517 1.08789V16.0056H7.48517V1.08789H9.48517Z" fill="#111111"/></svg>`
        },
        predictive_search_enabled: "{{ settings.predictive_search_enabled }}",
        predictive_search_placeholder: `<div class="search-item blank"><div><a class="thumbnail"><figure class="lazy-image" data-ratio></figure></a><div class="content"><span class="title"></span><span class="info"></span></div></div>`
      }
    };

    if ( ! JSON.parse(document.getElementById('shopify-features').text).predictiveSearch ) {
      KROWN.settings.predictive_search_enabled = "false";
      document.getElementById('search-open-button').setAttribute('id', '');
    }
    </script>

    <script src="{{ 'theme.js' | asset_url }}" defer></script>

    {%- if settings.show_variant_image -%}
      <script>
      class ProductItemVariants extends HTMLElement {
        constructor(){
          super();
          const productItemVariants = this.querySelectorAll('.product-item__variant');
          const productLink = this.closest('.product-item').querySelector('.product-item__link');
          let variantZIndex = 9;
          setTimeout(()=>{
            productItemVariants.forEach(elm=>{
              if ( this.querySelector('.product-item__variant-image') && productLink.querySelector('.product-item__image') ) {
                productLink.querySelector('.product-item__image').appendChild(this.querySelector('.product-item__variant-image'));
              }
              elm.addEventListener('click', e=>{
                productItemVariants.forEach(elm=>{elm.classList.remove('active')});
                e.currentTarget.classList.add('active');
                productLink.setAttribute('href', e.currentTarget.dataset.href);
                const variantImage = productLink.querySelector(`.product-item__variant-image[data-id="${e.currentTarget.dataset.id}"]`);
                if ( variantImage ) {
                  variantImage.classList.remove('active');
                  variantImage.style.zIndex = ++variantZIndex;
                  setTimeout(()=>{
                    variantImage.classList.add('active');
                  }, 10);
                }
              })
            })
          }, 500);
        }
      }
      customElements.define('product-item-variants', ProductItemVariants);
      </script>
    {%- endif -%}

    {%- if request.design_mode -%}
      <script src="{{ 'theme-editor.js' | asset_url }}" defer></script>
    {%- endif -%}
    <script>

           $('.cart-item .title').each(function(index, element) {
          var heading = $(element), word_array, last_word, first_part;

          word_array = heading.html().split(/\s+/); // split on spaces
          last_word = word_array.pop();             // pop the last word
          first_part = word_array.join(' ');        // rejoin the first words together

          heading.html([first_part, ' <span>', last_word, '</span>'].join(''));
      });

      {% comment %}    Remove Foundation Sample Product {% endcomment %}
      var sample_count = 0
           $(document).on('click','.get-even-serum-foundation .remove',function(e){
             setTimeout(function() {
              $(".cart-item .title").each(function(){
                if($(this).text() === 'GET EVEN MOISTURIZING PRIMER'){
      {% comment %}             alert($(this).text()); {% endcomment %}
                  sample_count = 1;
                  return false;
                }
                else{
                  sample_count = 2;
                }
              });
        if(sample_count == 2 ){
                  $.ajax({
                        type: 'POST',
                         url: '/cart/update.js',
                        data: { updates: {40191015911502:0} },
                        dataType: 'json',
                        success: function(stuff) {
                         refreshCart();
                        },
                        error: function(jqXHR, textStatus, errorThrown) {
                        alert(textStatus, errorThrown);
                        }
                        });
             }
             }, 1200);
        });
      {% comment %}    Remove Foundation Sample Product {% endcomment %}
      var sample_count = 0
           $(document).on('click','.get-even-primer .remove',function(e){
             setTimeout(function() {
              $(".cart-item .title").each(function(){
                if($(this).text() === 'GET EVEN FOUNDATION'){
      {% comment %}             alert($(this).text()); {% endcomment %}
                  sample_count = 1;
                  return false;
                }
                else{
                  sample_count = 2;
                }
              });
        if(sample_count == 2 ){
                  $.ajax({
                        type: 'POST',
                         url: '/cart/update.js',
                        data: { updates: {40191015911502:0} },
                        dataType: 'json',
                        success: function(stuff) {
                         refreshCart();
                        },
                        error: function(jqXHR, textStatus, errorThrown) {
                        alert(textStatus, errorThrown);
                        }
                        });
             }
             }, 1200);
        });

          {% comment %}    Remove Foundation Sample Product {% endcomment %}
      var sample_count = 0
           $(document).on('click','.matte-up-balancing-primer .remove',function(e){
             setTimeout(function() {
              $(".cart-item .title").each(function(){
                if($(this).text() === 'MATTE UP FOUNDATION'){
      {% comment %}             alert($(this).text()); {% endcomment %}
                  sample_count = 1;
                  return false;
                }
                else{
                  sample_count = 2;
                }
              });
        if(sample_count == 2 ){
                  $.ajax({
                        type: 'POST',
                         url: '/cart/update.js',
                        data: { updates: {40191037571150:0} },
                        dataType: 'json',
                        success: function(stuff) {
                         refreshCart();
                        },
                        error: function(jqXHR, textStatus, errorThrown) {
                        alert(textStatus, errorThrown);
                        }
                        });
             }
             }, 1200);
        });
          {% comment %}    Remove Foundation Sample Product {% endcomment %}
      var sample_count = 0
           $(document).on('click','.matte-up-foundation .remove',function(e){
             setTimeout(function() {
              $(".cart-item .title").each(function(){
                if($(this).text() === 'MATTE UP BALANCING PRIMER'){
      {% comment %}             alert($(this).text()); {% endcomment %}
                  sample_count = 1;
                  return false;
                }
                else{
                  sample_count = 2;
                }
              });
        if(sample_count == 2 ){
                  $.ajax({
                        type: 'POST',
                         url: '/cart/update.js',
                        data: { updates: {40191037571150:0} },
                        dataType: 'json',
                        success: function(stuff) {
                         refreshCart();
                        },
                        error: function(jqXHR, textStatus, errorThrown) {
                        alert(textStatus, errorThrown);
                        }
                        });
             }
             }, 1200);
        });

          {% comment %}    Remove Foundation Sample Product {% endcomment %}
      var sample_count = 0
           $(document).on('click','.calm-on-foundation .remove',function(e){
             setTimeout(function() {
              $(".cart-item .title").each(function(){
                if($(this).text() === 'CALM ON HYDRATING GEL PRIMER'){
      {% comment %}             alert($(this).text()); {% endcomment %}
                  sample_count = 1;
                  return false;
                }
                else{
                  sample_count = 2;
                }
              });
        if(sample_count == 2 ){
                  $.ajax({
                        type: 'POST',
                         url: '/cart/update.js',
                        data: { updates: {40191039438926:0} },
                        dataType: 'json',
                        success: function(stuff) {
                         refreshCart();
                        },
                        error: function(jqXHR, textStatus, errorThrown) {
                        alert(textStatus, errorThrown);
                        }
                        });
             }
             }, 1200);
        });
          {% comment %}    Remove Foundation Sample Product {% endcomment %}
      var sample_count = 0
           $(document).on('click','.calm-on-hydrating-gel-primer .remove',function(e){
             setTimeout(function() {
              $(".cart-item .title").each(function(){
                if($(this).text() === 'CALM ON FOUNDATION'){
      {% comment %}             alert($(this).text()); {% endcomment %}
                  sample_count = 1;
                  return false;
                }
                else{
                  sample_count = 2;
                }
              });
        if(sample_count == 2 ){
                  $.ajax({
                        type: 'POST',
                         url: '/cart/update.js',
                        data: { updates: {40191039438926:0} },
                        dataType: 'json',
                        success: function(stuff) {
                         refreshCart();
                        },
                        error: function(jqXHR, textStatus, errorThrown) {
                        alert(textStatus, errorThrown);
                        }
                        });
             }
             }, 1200);
        });








          {% comment %}    Remove Foundation Sample Product {% endcomment %}
      var sample_count = 0
           $(document).on('click','.over-dew-primer .remove',function(e){
             setTimeout(function() {
              $(".cart-item .title").each(function(){
                if($(this).text() === 'DECREASE  FOUNDATION'){
      {% comment %}             alert($(this).text()); {% endcomment %}
                  sample_count = 1;
                  return false;
                }
                else{
                  sample_count = 2;
                }
              });
        if(sample_count == 2 ){
                  $.ajax({
                        type: 'POST',
                         url: '/cart/update.js',
                        data: { updates: {40191042715726:0} },
                        dataType: 'json',
                        success: function(stuff) {
                         refreshCart();
                        },
                        error: function(jqXHR, textStatus, errorThrown) {
                        alert(textStatus, errorThrown);
                        }
                        });
             }
             }, 1200);
        });
          {% comment %}    Remove Foundation Sample Product {% endcomment %}
      var sample_count = 0
           $(document).on('click','.decrease-foundation .remove',function(e){
             setTimeout(function() {
              $(".cart-item .title").each(function(){
                if($(this).text() === 'OVER DEW PLUMPING PRIMER'){
      {% comment %}             alert($(this).text()); {% endcomment %}
                  sample_count = 1;
                  return false;
                }
                else{
                  sample_count = 2;
                }
              });
        if(sample_count == 2 ){
                  $.ajax({
                        type: 'POST',
                         url: '/cart/update.js',
                        data: { updates: {40191042715726:0} },
                        dataType: 'json',
                        success: function(stuff) {
                         refreshCart();
                        },
                        error: function(jqXHR, textStatus, errorThrown) {
                        alert(textStatus, errorThrown);
                        }
                        });
             }
             }, 1200);
        });
         $(document).on('click', '#cart-open-button', function(e) {
           refreshCart();
         });
    </script>

    <style>
          span.alert.alert--error {
          display: none;
      }
    </style>
    {% if template.name == 'collection' %}
      <style>
            .product-item__variants{
          margin-bottom: 0!important;
        }
            .flex-con-col{
              margin-top: 20px;
            }
      </style>
    {% endif %}
    {% comment %}
      {% include 'popups-home'%}
    {% endcomment %}
    <style>
      .ssw-reviews-caption__element {
      display: none!important;
      }
    </style>
   
    {% if collection.url contains 'sample-sets' %}
      <style>
        .add-to-con {
          display: none!important;

        }
           .price-con{
          width: 100%!important;
        }
      </style>
    {% endif %}
    {% if collection.url contains 'offers' %}
      <style>
        .product-badge{
            display: none!important;
        }
        .add-to-con {
          display: none!important;

        }
        .price-con{
          width: 100%!important;
        }
      </style>
      <script>
        $(".combo .product-item__price").text("Starting from ₹ 2500");
      </script>
    {% endif %}
    <style>
      .diwali-potli{
        display: none;
      }
    </style>
    {% if product.url contains 'offers' %}
      <style>
        #diwali-potli{
          display: none;
        }
      </style>
    {% endif %}
    <style>
         .toggle *{
          text-transform: uppercase;
        }
        .product-item__price span{
          margin-right: 0!important;
          color: #fff!important;
          display: flex!important;
      justify-content: center;

        }
        .product-item__price .visually-hidden{
          display: none!important;
        }
         .product-item__price del{
          display: none!important;
        }
       .template-product .product-gallery{
          z-index: 9!important;
        }
    </style>
    <!-- PickyStory snippet "main_widget_script", do not modify. Safe to remove after the app is uninstalled -->
    {% if content_for_header contains 'pickystory' %}
      <script defer src="https://cdn.pickystory.com/widget/dist/latest/pickystory-widget.min.js"></script>
    {% endif %}
    <!-- PickyStory end snippet "main_widget_script" -->
    <style>
        .flexed-custom{
          display: flex;
          justify-content: space-between;
          flex-wrap: wrap;
        }
        .flexed-custom div{
          margin-bottom: 10px;
          width: 48%;
        }
        .flexed-custom div .abfirst{
              font-family: Inter;
          font-weight: 900;
          font-size: 3em;
          line-height: 96%;
          margin-bottom: 15px;
          letter-spacing: .05em;
          text-transform: uppercase;
          color: #ff3fb5;
        }
        .flexed-custom div .absecond{
           font-size: 1em;
          line-height: 120%;
          margin-bottom: 40px;
          letter-spacing: .05em;
          text-transform: Capitalize;
          color: #ff8f1a;
          font-weight: 600;
        }
        @media only screen and (max-width: 768px) {
        .flexed-custom div .abfirst {
          font-size: 3em;
        }
          .flexed-custom div .absecond{
          line-height: 121%;

        }
      }
    </style>

    {% if product.handle == 'zit-quit-concealer-free-sample' %}
      <style>
        body{
           display: none!important;
         }
      </style>
    {% endif %}
    {% if product.handle == 'get-even-concealer-free-sample' %}
      <style>
        body{
           display: none!important;
         }
      </style>
    {% endif %}
    {% if product.handle == 'eeye-light-concealer-sample' %}
      <style>
        body{
           display: none!important;
         }
      </style>
    {% endif %}
    {% if product.handle == 'eye-light-concealer-sample' %}
      <style>
        body{
           display: none!important;
         }
      </style>
    {% endif %}
    <style>
          #site-cart-sidebar .eye-light-concealer-sample .quant-selector{
            display: none!important;
          }
          nosto{
            pointer-events: none;
          }
          #shopify-section-template--14793037119566__8d2f7365-54ee-4df9-801c-11136005ff1f .slide-caption{
            width: 74%!important;
          text-shadow: white 2px 5px;
      font-size: 1.2vw!important;
            margin-bottom: 30px;
            text-transform: capitalize!important;
          }
          @media only screen and (max-width: 600px) {
         #shopify-section-template--14793037119566__8d2f7365-54ee-4df9-801c-11136005ff1f .slide-caption{

      font-size: 1em!important;

          }
            #shopify-section-template--14793037119566__8d2f7365-54ee-4df9-801c-11136005ff1f{
            margin-bottom: 63vw;
          margin-top: 17vw;
          }
      }
    </style>
    <script>
       $(".collection .product-item .product-item__variant:first-child").addClass("active");
        // $(window).on('scroll', function() {
        //       if($(window).scrollTop() >= $('.css-slides-container').offset().top + $('.css-slides-container').outerHeight() - window.innerHeight) {
        //          $(".css-slides-container .product-item .product-item__variant:first-child").addClass("active");
        //       }
        //     });


        // Quick View Functionality
         $(document).on('click', '.product-item-quickview', function(){
           const prodUrl = $(this).data('handle')+ '?view=min-quickview';
           $.ajax({
        type: 'GET',
        url: prodUrl,
        success: function (data) {
          $('#quick-view-modal .quick-view-content-layout').html(data);
          $('#quick-view-modal').addClass('visible-modal')
          $('.page-overlay').addClass('show-quickview-overlay')
        },
        error : function (error) {
        }
      });

        });

        // close quick view functionality
        $(document).on('click', '.close-quick-view-modal, .page-overlay.show-quickview-overlay', function(){
          $('#quick-view-modal').removeClass('visible-modal')
          $('.page-overlay').removeClass('show-quickview-overlay')
          $('#quick-view-modal .quick-view-content-layout').html('');
        })
    </script>
    <div class="whatsapp-chat">
      <a href="https://wa.me/9625226472"
        ><img
          style="width: 100%;"
          src="https://cdn.shopify.com/s/files/1/0555/4018/7214/files/WhatsApp_svg_1.webp?v=1688488849"
      ></a>
    </div>
    <style>
      .whatsapp-chat{
        position: fixed;
      bottom: 1%;
      right: 1%;
      max-width: 64px;
        z-index: 99999999999999;
      }
      .whatsapp-chat a{
        width: 100%;
        display: block;
      }
      .collection--regular .get-even-foundation-sample-set .stars-con{
        margin-bottom: 55px;
      }
    </style>
    {% if template == 'index' %}
      <style>
              .moo{
                display: none!important;
              }
              .countdown-container {
            background-color: #eb26c2;
            width: max-content;
            text-align: center;
            padding: 6px;
            border-radius: 15px;
            position: absolute;
            top: 0%;
            left: 50%;
            transform: translate(-50%, -113%);
        }
            @media only screen and (max-width: 600px) {
              .whatsapp-chat {
            position: fixed;
            bottom: 3%;
            right: 0%;
            max-width: 57px;
            z-index: 99999999999999;
        }
              .nec-reviewstars{
                margin: 0!important;
              }
              .countdown-container {
            background-color: #eb26c2;
            width: max-content;
            text-align: center;
            padding: 6px;
            border-radius: 15px;
            position: relative;
            top: 0%;
            left: 50%;
            transform: translate(-50%, -113%);
            margin-top: 9vh;
            margin-bottom: -7vh;
        }

              .flexo{
                margin-top: 260px!important;
              }
              .vertical-slider .slide-image--secondary .lazy-image[data-ratio] img {
          position: absolute;
          top: 0;
          left: 0;
          height: 100%;
          width: 100%;
          object-fit: cover!important;
        }
              .mount-collection .section-header {
            margin: auto!important;
                width: 90%;
        }
              .mount-collection .section-header {
            margin: auto;
            text-align: left;
        }
              .dashed-title::before {
            content: '';
            position: absolute;
            top: 50%;
            left: -116px;
            height: 15px;
            width: 102px;
            transform: translateY(-50%);
            background-image: url(/cdn/shop/files/Group_36_1.svg?v=1651781798);
            background-repeat: no-repeat;
            background-position: center;
            background-size: 100%;
        }
              .dashed-title::after {
            content: '';
            position: absolute;
            top: 50%;
            right: -113px;
            height: 15px;
            width: 102px;
            transform: translateY(-50%);
            background-image: url(/cdn/shop/files/Group_37_1.svg?v=1651781886);
            background-repeat: no-repeat;
            background-position: center;
            background-size: 100%;
        }
              #shopify-section-template--14827698257998__bab0bd88-ea92-4b11-86b1-9cc4c596edef .dashed-title::before {
            content: '';
            position: absolute;
            top: 50%;
            left: -45%;
            height: 15px;
            width: 40%;
            transform: translateY(-50%);
            background-image: url(/cdn/shop/files/Group_36_1.svg?v=1651781798);
            background-repeat: no-repeat;
            background-position: center;
            background-size: 100%;
        }
               #shopify-section-template--14827698257998__bab0bd88-ea92-4b11-86b1-9cc4c596edef .dashed-title::after {
            content: '';
            position: absolute;
            top: 50%;
            right: -45%;
            height: 15px;
            width: 40%;
            transform: translateY(-50%);
            background-image: url(/cdn/shop/files/Group_37_1.svg?v=1651781886);
            background-repeat: no-repeat;
            background-position: center;
            background-size: 100%;
        }
              .verti-new .slide-image--secondary .lazy-image[data-ratio] img {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            width: 100%;
            object-fit: contain!important;
        }
              }
        }
              .product-item__variants{
                margin-top: -2rem;
              }
      </style>
    {% endif %}
    {{ '//cdn.shopify.com/s/files/1/0194/1736/6592/t/1/assets/booster-page-speed-optimizer.js?23' | script_tag }}
    <!--
      <script>
        // Check if the current page URL is an exact match
        if (window.location.href === "https://www.typebeautyinc.com/collections") {
          window.location.href = "https://www.typebeautyinc.com/collections/all-products"; // Redirect to the new URL
        }
      </script>
    -->
    {% include 'sca-quick-view-template' %}
    {% if collection.handle == 'freebies' %}
      <style>
            .flex-con-col{
              justify-content: center;
            }
            .price-con{
               display: none;
            }
           .cart-item[class*="mini"] .quant-selector{
        opacity: 0;
             display: none;
        }
      </style>
      <script>
            window.onload = function() {
                if (
                    window.location.href === "https://www.typebeautyinc.com/collections/freebies" ||
                    window.location.href === "https://www.typebeautyinc.com/collections/freebies#"
                ) {
                    $("#cart-open-button").click();
               setTimeout(function() {
          $(".close-sidebar").click();
        }, 1000);

                }

                function extractPrice() {
                    const priceElement = document.querySelector('#CartTotal span');
                    if (priceElement) {
                        const priceText = priceElement.textContent.trim();
                        const priceWithoutCurrency = parseFloat(priceText.replace('₹', '').trim());
                      // priceWithoutCurrency *= 0.7;
                     //  console.log('Price without currency:', priceWithoutCurrency);
                        return priceWithoutCurrency;
                    }
                    return 0; // Return 0 if the price element is not found
                }

                function countCartItems() {
                    const cartItems = document.querySelectorAll('.cart-item');
                    let giftItemCount = 0;

                    cartItems.forEach(item => {
                        const itemHandle = item.getAttribute('data-title');
                        if (itemHandle.includes('mini')) {
                          const itemquantselector = item.querySelector(".quant-selector input.qty");
                          if(itemquantselector){
                             giftItemCount = giftItemCount + Number(itemquantselector.value);
                          }

                        }
                    });

                   // console.log('Gift items in cart:', giftItemCount);
                    return giftItemCount;
                }

                function adjustGiftsForRange(allowedCount) {
                    const giftCount = countCartItems();
                    const priceConElements = document.querySelectorAll('.add-to-con');
                    const itemsWithMini = document.querySelectorAll('.cart-item[class*="mini"]');

                    priceConElements.forEach(element => {
                        if (giftCount === allowedCount || giftCount > allowedCount) {
                            element.style.display = 'none';
                        } else {
                            element.style.display = 'block';
                        }
                    });

                    itemsWithMini.forEach(item => {
                        const quantSelector = item.querySelector('.quant-selector');
                        if (giftCount === allowedCount || giftCount > allowedCount) {
                            quantSelector.style.display = 'none';
                        } else {
                            quantSelector.style.display = 'block';
                        }
                    });

                    if (giftCount > allowedCount) {
                        const extraGifts = giftCount - allowedCount;

                        for (let i = 0; i < extraGifts; i++) {
                            const removeButton = itemsWithMini[i].querySelector('.remove');
                            if (removeButton) {
                                removeButton.click();
                            }
                        }
                    }
                }

                // Run the functions every second
                setInterval(() => {
                    const price = extractPrice();

                    if (price < 999) {
                        //console.log("0 gifts allowed");
                        adjustGiftsForRange(0);
                    } else if (price < 1999) {
                     //   console.log("1 gift allowed");
                        adjustGiftsForRange(1);
                    } else if (price < 2999) {
                      //  console.log("2 gifts allowed");
                        adjustGiftsForRange(2);
                    } else if (price < 3999) {
                     //   console.log("3 gifts allowed");
                        adjustGiftsForRange(3);
                    } else if (price < 4999) {
                    //    console.log("4 gifts allowed");
                        adjustGiftsForRange(4);
                    } else {
                     //   console.log("5 gifts allowed");
                        adjustGiftsForRange(5);
                    }

                }, 1);
            };
      </script>

      <script>
        window.addEventListener('load', function () {
          var s = document.createElement('script');
          s.src = '{{ "slow-app.js" | asset_url }}';
          document.body.appendChild(s);
        });
      </script>
    {% endif %}
    <script>
   function updateFreeGiftsText() {
    const priceElement = document.querySelector('#CartTotal span');
    const freeGiftsText = document.querySelector('.giftstext');

    if (!priceElement || !freeGiftsText) {
        return;
    }

    const price = parseInt(priceElement.textContent.replace('₹', '').trim());
    let message = '';

    if (price < 999) {
        message = 'Purchase products for more than 999 to be eligible for free gifts';
    } else {
        let numberOfGifts = 0;

        if (price < 1999) {
            numberOfGifts = 1;
        } else if (price < 2999) {
            numberOfGifts = 2;
        } else if (price < 3999) {
            numberOfGifts = 3;
        } else if (price < 4999) {
            numberOfGifts = 4;
        } else {
            numberOfGifts = 5;
        }

        message = `Congrats! You are eligible for ${numberOfGifts} free Gift, <a href="https://www.typebeautyinc.com/collections/freebies">Visit Here</a>`;
    }

    freeGiftsText.innerHTML = message;
}

setInterval(updateFreeGiftsText, 1000);
    </script>
    <style>
          .giftstext{
           color: #fe3fb5;
          font-weight: 500;
          }
          .freegiftstext a{
            text-decoration: underline;
          }
          {% if template.name == 'search' %}
       [class*="free-sample"] {
         display: none;
       }
          [class*="mini"] {
         display: none;
       }
      {% endif %}
      [class*="free"] {
         display: none;
       }
           [class*="mini"] .quant-selector{
         display: none!important;
       }
           [class*="mini"] .quant-btn{
         display: none!important;
       }
          {% if product.handle contains 'mini' %}
            body{
              display: none;
            }
            {% endif %}
             {% if product.handle contains 'free' %}
            body{
              display: none;
            }
            {% endif %}
             {% if product.handle contains 'free-sample' %}
            body{
              display: none;
            }
            {% endif %}
    </style>
    {% if product.handle == 'eyeshadow-combo' or product.handle == 'rakhi-offer' %}
      <style>
             .ten-tenths{
               display: flex;
               justify-content: center;
             }
             .ten-tenths .shopify-app-block{
               margin-right: 10px;
             }
             .ten-tenths .shopify-app-block .grid-collection {
            display: grid;
            grid-template-columns: repeat(2, minmax(0, 1fr));
             }
             .byob-product-image-container > img {
            height: 200px;
               margin-bottom: 30px;
        }
             .byob-section-wrapper{
                   display: flex;
            flex-direction: column-reverse;
             }
             #byob-bundle-header{
                   color: #e23dbe;
            font-size: 2rem;
            font-weight: 500;
            margin-bottom: 10px;
             }
             @media only screen and (max-width: 600px) {
          .ten-tenths{
            display: block;
            margin-left: 0;
            width: 103%;
          }
               .ten-tenths .shopify-app-block .grid-collection {
            display: block;
               }
        }
      </style>
    {% endif %}
    {% if collection.handle contains 'under-1500' %}
      <style>
        .template-collection .lipstick-combo .add-to-con{
          display: none!important;
        }
        .template-collection .eyeshadow-combo-1 .add-to-con{
           display: none!important;
        }
      </style>
    {% endif %}
    {% include 'smile-initializer' %}
    {% if collection.handle == 'shop-the-look' %}
      <style>
        .add-to-con{
          display: none;
        }
        .price-con{
              width: 100%;
        }
      </style>
    {% endif %}
    {% if collection.handle contains 'freebies' %}
      <style>
        /* .product-item__image{
          max-height: 360px;
        } */
      </style>
    {% endif %}
    {% if product.handle == 'copy-of-brush-up-on-science' %}
      <style>
        body{
          display: none!important;
        }
      </style>
    {% endif %}
    <style>
          .link-1-wrapper.desk li a[href="javascript:;"] {
          cursor: default !important;
      }
          .link-1-wrapper.desk li a[href="javascript:;"]:hover {
         color: #fff!important;
      }
    </style>
    <script>
         function checkCartValue() {
          // Get the cart total element
          var cartTotalElement = document.getElementById("CartTotal");

          // Extract the cart value from the span element
          var cartValueElement = cartTotalElement.querySelector("span");
          var cartValueText = cartValueElement.textContent.trim();

          // Extract numeric value by removing non-digit characters
          var cartValue = parseFloat(cartValueText.replace(/[^\d.]/g, ''));
      //console.log(cartValue);
          // Get the checkout button element
          var checkoutButton = document.getElementById("checkout2");

          // Check if the cart value is a valid number
          if (!isNaN(cartValue) && cartValue > 0) {
              // Show the button
              checkoutButton.style.display = "block";
          } else {
              // Hide the button
              checkoutButton.style.display = "none";
          }
      }

      // Call the function every second
      setInterval(checkCartValue, 1000);
    </script>
    <style>
        .template-list-collections .image-with-text-overlay{
        display: none;
        }
        .image-with-text-overlay-holder div:nth-child(4) {
         display: block;
      }
        .image-with-text-overlay-holder div:nth-child(8) {
         display: block;
      }
        .image-with-text-overlay-holder div:nth-child(10) {
          display: block;
      }
        .image-with-text-overlay-holder div:nth-child(15) {
         display: block;
      }
        .image-with-text-overlay-holder div:nth-child(22) {
          display: block;
      }
        .image-with-text-overlay-holder div:nth-child(30) {
          display: block;
      }
        {% if collection.handle == 'all-products' %}
          .copy-of-soak-it-lipstick, .copy-of-light-up-lipstick, .light-up-lip-lustre{
            display: none;
          }
        {% endif %}
        html{
          padding-bottom: 0important;
        }
    </style>
    <script>
      // Function to handle checkout
      function handlefreegift() {
          // Get the cart items using Shopify cart API
          fetch('/cart.js')
              .then(response => response.json())
              .then(data => {
                  const priceElement = document.querySelector('#CartTotal span');
                  const totalPrice = parseInt(priceElement.textContent.replace('₹', '').trim());


                  // Initialize count for free products
                  let freeProductCount = 0;
                  data.items.forEach(item => {
                      // Check if the item is a free product (total price is 0)
                      if (item.original_line_price === 0) {
                          freeProductCount += item.quantity;
                      }
                  });

                  // Determine the number of allowed free gifts based on the price range
                  let allowedGifts = 0;
                  if (totalPrice < 999) {
                      allowedGifts = 0;
                  } else if (totalPrice < 1999) {
                      allowedGifts = 1;
                  } else if (totalPrice < 2999) {
                      allowedGifts = 2;
                  } else if (totalPrice < 3999) {
                      allowedGifts = 3;
                  } else if (totalPrice < 4999) {
                      allowedGifts = 4;
                  } else {
                      allowedGifts = 5;
                  }

                  // Print the number of allowed free gifts in the console
                  console.log('Number of Allowed Free Gifts:', allowedGifts);

                  // Print the number of free products in the console
                  console.log('Number of Free Products:', freeProductCount);

                  // Check if the number of allowed gifts is less than or equal to the number of free products
                  if (freeProductCount <= allowedGifts) {
                      // Run function handleFloCheckoutBtn()
                      console.log("allow");
                        window.location.href = 'https://www.typebeautyinc.com/checkout';
                   // handleFloCheckoutBtn();
                  } else {
                      // Go to /cart/clear
                      window.location.href = 'https://www.typebeautyinc.com/cart/clear';
                  }
              })
              .catch(error => console.error('Error fetching cart data:', error));
      }
    </script>
    <style>
          {% if collection.handle == 'freebies' %}
            .product-item__link, .product-item__link, .abd{
              pointer-events: none;
            }
          {% endif %}
          .userslooking{
            margin-top: 0.5rem;
          }
          .sidebar__menu > li:nth-child(2) a{
             color: #ff8f1a;
      }
            .sidebar__menu > li:nth-child(2){
              position: relative;
            }
          .sidebar__menu > li:nth-child(2)::after {
      content: "New";
          position: absolute;
          background-color: #eb26c2;
          color: white;
          font-size: 15px;
          padding: 4px 11px;
          /* border-radius: 10px; */
          top: 50%;
          right: 0%;
          transform: translateY(-50%);
          z-index: 1;
        z-index: 1;
      }
       .sidebar__menu > li:nth-child(3) a{
             color: #ff8f1a;
      }
            .sidebar__menu > li:nth-child(3){
              position: relative;
            }
          .sidebar__menu > li:nth-child(3)::after {
      content: "New";
          position: absolute;
          background-color: #eb26c2;
          color: white;
          font-size: 15px;
          padding: 4px 11px;
          /* border-radius: 10px; */
          top: 50%;
          right: 0%;
          transform: translateY(-50%);
          z-index: 1;
        z-index: 1;
      }
              /* .sidebar__menu > li:nth-child(3) a{
             color: #ff8f1a;
      }
            .sidebar__menu > li:nth-child(3){
              position: relative;
            }
          .sidebar__menu > li:nth-child(3)::after {
      content: "New";
          position: absolute;
          background-color: #eb26c2;
          color: white;
          font-size: 15px;
          padding: 4px 11px;
           border-radius: 10px;
          top: 50%;
          right: 0%;
          transform: translateY(-50%);
          z-index: 1;
        z-index: 1;
      } */
      /* .sidebar__menu > li:nth-child(6) a{
          color: #ff8f1a;
      } */
          .product__add-to-cart{
            width: 100%!important;
          }
          .returns{
                display: flex;
          justify-content: space-between;
                margin-top: 1rem;
          }
          .returns div{
            width: 30%;
          display: flex;
          flex-direction: column;
                align-items: center;
          }
          .returns div p{
                font-size: 12px;
          margin: 0;
          margin-top: 10px;
          }
          .returns div img{
            width: 30%;
          }
          {% if product.handle contains "sample-set" or product.handle contains 'combo' %}
            .percent-discount{
              display:none!important;
            }
          {% endif %}
          {% if product.handle contains 'shimmer' %}
          .soldunits{
              display:none!important;
          }
          {% endif %}
          {% if product.handle contains '20ml' %}
            .soldunits{
                 display:none!important;
            }
          {% endif %}
    </style>
    {% if template.name == 'index' %}
      <div class="overlay pop-up-final-outer">
        <div style="position: relative;width: 100%;height: 100%;">
          <div class="pop-up-quiz-con">
            <a class="close-icon" href="javascript:void(0)">
              <img
                style="display: block;"
                src="https://cdn.shopify.com/s/files/1/0555/4018/7214/files/Group_82.svg?v=1651562668"
            ></a>
            <div class="filter-skin-main page-width" id="filter-header">
              <div class="Skin-type  ">
                <div class="filter_title ">
                  <div class="stepi">STEP 1</div>
                  <div class="img-div">
                    <img src="https://cdn.shopify.com/s/files/1/0555/4018/7214/files/Group_41.svg?v=1651564317">
                  </div>
                  <div class="stepi grayed-step">STEP 2</div>
                  <div class="img-div">
                    <img src="https://cdn.shopify.com/s/files/1/0555/4018/7214/files/Group_41.svg?v=1651564317">
                  </div>
                  <div class="stepi grayed-step">STEP 3</div>
                </div>
                <h2>What is your skin Type</h2>
                <div class="skin-options"></div>
                <div class="skin-shade " style="display:none;">
                  <h2>What is your skin Concern</h2>
                  <select id="skin_shade">
                    <option>Select Shades</option>
                  </select>
                  <button style="display:none" class="step-btn" id="step2">Continue to Step 2</button>
                </div>
                <div class="step-level-indicator">
                  <img src="https://cdn.shopify.com/s/files/1/0555/4018/7214/files/Rectangle_287.svg?v=1651568915">
                  <img src="https://cdn.shopify.com/s/files/1/0555/4018/7214/files/Rectangle_288.svg?v=1651568915">
                  <img src="https://cdn.shopify.com/s/files/1/0555/4018/7214/files/Rectangle_288.svg?v=1651568915">
                </div>
                <p
                  style="
                    width: max-content;
                    margin: auto;
                    text-align: center;
                    margin-top: 19px;
                          border-bottom: 1px solid #fff;
                       margin-bottom: 10px;
                  "
                >
                  For additional help
                  <a style="border-bottom: 1px solid #000;" href="https://wa.me/9625226472"> message +91 96252 26472</a>
                </p>
                <p style="text-align: center;margin-bottom: 10px;">Or</p>
                <p
                  style="
                    width: max-content;
                    margin: auto;
                    text-align: center;
                    margin-top: 10px;
                          border-bottom: 1px solid #fff;
                  "
                >
                  <a
                    style="border-bottom: 1px solid #000;"
                    href=""
                    onclick="Calendly.initPopupWidget({url: 'https://calendly.com/typebeautyinc/virtual-beauty-consultation'});return false;"
                    >Book a virtual consultation.</a
                  >
                </p>
              </div>

              <div class="skin-more-options  " style="display:none;">
                <div class="filter_title ">
                  <div class="stepi grayed-step">STEP 1</div>
                  <div class="img-div">
                    <img src="https://cdn.shopify.com/s/files/1/0555/4018/7214/files/Group_41.svg?v=1651564317">
                  </div>
                  <div class="stepi ">STEP 2</div>
                  <div class="img-div">
                    <img src="https://cdn.shopify.com/s/files/1/0555/4018/7214/files/Group_41.svg?v=1651564317">
                  </div>
                  <div class="stepi grayed-step">STEP 3</div>
                </div>
                <h2>
                  SeLECT THE BRAND, PRODUCT NAME AND SHADE OF CONCEALER THAT MATCHES YOUR SKIN CLOSELY TO FIND YOUR
                  PERFECT TYPE MATCH
                </h2>
                <div class="consealer-select">
                  <select id="brand_select">
                    <option>Select Concealer Brand</option>
                  </select>
                  <select id="productname_select">
                    <option val="pro-name">Select Concealer Product Name</option>
                  </select>
                  <select id="shade_select">
                    <option val="pro-shade">Select Concealer Shade</option>
                  </select>
                </div>
                <h2>
                  SeLECT THE BRAND, PRODUCT NAME AND SHADE OF FOUNDATION THAT MATCHES YOUR SKIN CLOSELY TO FIND YOUR
                  PERFECT TYPE MATCH
                </h2>
                <div class="foundation-select">
                  <select id="brand_select-fd">
                    <option>Select Foundation Brand</option>
                  </select>
                  <select id="productname_select-fd">
                    <option val="pro-name">Select Foundation Product Name</option>
                  </select>
                  <select id="shade_select-fd">
                    <option val="pro-shade">Select Foundation Shade</option>
                  </select>
                </div>
                <button style="display:none" class="step-btn" id="step3">Continue to Step 3</button>
                <div class="step-level-indicator">
                  <img src="https://cdn.shopify.com/s/files/1/0555/4018/7214/files/Rectangle_288.svg?v=1651568915">
                  <img src="https://cdn.shopify.com/s/files/1/0555/4018/7214/files/Rectangle_287.svg?v=1651568915">

                  <img src="https://cdn.shopify.com/s/files/1/0555/4018/7214/files/Rectangle_288.svg?v=1651568915">
                </div>
              </div>
              <div class="recommended-output" style="display:none;">
                <div class="filter_title ]">
                  <div class="stepi grayed-step">STEP 1</div>
                  <div class="img-div">
                    <img src="https://cdn.shopify.com/s/files/1/0555/4018/7214/files/Group_41.svg?v=1651564317">
                  </div>
                  <div class="stepi grayed-step">STEP 2</div>
                  <div class="img-div">
                    <img src="https://cdn.shopify.com/s/files/1/0555/4018/7214/files/Group_41.svg?v=1651564317">
                  </div>
                  <div class="stepi ">STEP 3</div>
                </div>

                <h2>recommended products for your skin:</h2>
                <p class="recomm-shade">Recommended Shade For Concealer: <span class="shade-recommended"></span></p>

                {% section 'skincare-results' %}
                {% comment %}
                  <input type="email" placeholder="Your Email" class="resultmail">
                  <button type="submit" id="emailresults">EMAIL ME THE RESULTS</button>
                {% endcomment %}
                <div class="step-level-indicator">
                  <img src="https://cdn.shopify.com/s/files/1/0555/4018/7214/files/Rectangle_288.svg?v=1651568915">

                  <img src="https://cdn.shopify.com/s/files/1/0555/4018/7214/files/Rectangle_288.svg?v=1651568915">
                  <img src="https://cdn.shopify.com/s/files/1/0555/4018/7214/files/Rectangle_287.svg?v=1651568915">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="pop-up-combo-recommendation">
        <div class="inner-pop-up-combo-recommendation" style="position: relative;">
          <img
            class="cross-inner"
            style="display: block;"
            src="https://cdn.shopify.com/s/files/1/0555/4018/7214/files/Group_82.svg?v=1651562668"
          >
          <h2 class="text-combo-name">hi</h2>
          <a
            style="
              text-align:center;color: #ff3fb5;
              border-bottom: 2px solid #ff3fb5;
            "
            href="https://www.typebeautyinc.com/collections/diwali-potli/products/build-your-own-bundl"
            >or make your own combo here</a
          >
          {% section 'bundles-set-results' %}
        </div>
      </div>
      <script>
        $( ".quiz-button" ).click(function() {
        $('.pop-up-final-outer').fadeIn();
          $(".pop-up-quiz-con").fadeIn();
        });
        $( ".close-icon" ).click(function() {
        $('.pop-up-final-outer').fadeOut();
        });
        $(document).mouseup(function(e)
        {
          var container = $(".pop-up-quiz-con");

          // if the target of the click isn't the container nor a descendant of the container
          if (!container.is(e.target) && container.has(e.target).length === 0)
          {
           $('.pop-up-final-outer').fadeOut();
          }
        });
      </script>
      <script>
        $( "#step3" ).click(function() {
        // $('.pop-up-combo-recommendation').delay(5000).fadeIn();
        });
        $( ".cross-inner" ).click(function() {
         $(".pop-up-combo-recommendation").fadeOut();
        });
          $('.recommended-pro').hide();
        //      $('#shade_select').html('<option val="pro-shade">Select Shade</option>');
          function doStuff(data) {

            var unique_mf = [];
            var unique_md = [];
            var unique_yr = [];
           // console.log(data);

            $.each(data, function(key,value) {
        //         console.log('Data- start: '+data[key]+'End');

        //         console.log(key+' : '+value);
        //         console.log(data[key][1]);
               var manufacturer =  data[key][1];
               var model =  data[key][2];
               var year =  data[key][3];

        //           console.log(manu_options);


                var array_unique = data[key][0];
                unique_mf.push(array_unique);

                var array_unique1 = data[key][2];
                unique_md.push(array_unique1);

                var array_unique2 = data[key][3];
                unique_yr.push(array_unique2);


                 });

        //       console.log(unique_mf);

            let uni_manufacture = [...new Set(unique_mf)];


            for (var i = 0; i < uni_manufacture.length; i++) {
              if(uni_manufacture[i]!= null) {
                // console.log(uni_manufacture[i]+'val');
               var manu_options = '<li><input type="radio" name="option-skin" class="skin-opt" value='+ uni_manufacture[i] +'><label>'+uni_manufacture[i]+'</label></li>';

              $('.skin-options').append(manu_options);
        //         console.log(uni_manufacture[i]);
              }
            }

        //       console.log(unique_md);

            let uni_model = [...new Set(unique_md)];


            for (var i = 0; i < uni_model.length; i++) {
               var model_options = '<option value='+uni_model[i]+'>'+uni_model[i]+'</option>';
        //           $('#model_opt').append(model_options);

        //         console.log(model_options[i]);

            }

        //       console.log(unique_yr);

             let uni_year = [...new Set(unique_yr)];


            for (var i = 0; i < uni_year.length; i++) {
               var year_options = '<option value='+uni_year[i]+'>'+uni_year[i]+'</option>';
        //          $('#make_year_opt').append(year_options);
             // console.log(uni_year[i]);

            }




        }

             function doStuffsearch(data) {
              var unique_veh = [];
            var unique_mf = [];
            var unique_md = [];
            var unique_yr = [];
           // console.log(data);

            $.each(data, function(key,value) {
        //         console.log('Data- start: '+data[key]+'End');

        //         console.log(key+' : '+value);
        //         console.log(data[key][1]);
               var manufacturer =  data[key][1];
               var model =  data[key][2];
               var year =  data[key][3];
                var manufacturer_serh =  data[key];
        //           console.log(manu_options);

                var array_unique_veh = data[key][1];
                unique_veh.push(array_unique_veh);

                var array_unique = data[key][1];
                unique_mf.push(array_unique);

                var array_unique1 = data[key][2];
                unique_md.push(array_unique1);

                var array_unique2 = data[key][3];
                unique_yr.push(array_unique2);


                 });



                let uni_unique_veh = [...new Set(unique_veh)];
        var realveh = uni_unique_veh.filter(function (e) {return e != null;});
        //      console.log(realveh);

        //            $('#skin_shade').empty();


               var checkboxes = document.getElementsByName('option-skin');
               for (var checkbox of checkboxes)
               {
                 if (checkbox.checked) {
        //              alert(checkbox.value + ' ');
                   var val_model = checkbox.value.trim();
                   console.log(val_model+'test');
                 }
               }

                var task_names = [];
               data.forEach(function (i) {
                 task_names.push(i);
               });

               console.log(val_model+task_names.length);

            for (var i = 0; i < task_names.length; i++) {
              if(task_names[i].length>1){
        //         console.log(task_names[i]);

               if($.inArray(val_model, task_names[i]) != -1){
                  console.log(task_names[i][1]);
               var manu_options = '<option value="'+task_names[i][1]+'">'+task_names[i][1]+'</option>';

              $('#skin_shade').append(manu_options);
                 $('.skin-shade').show();
        //         console.log(realveh[i]);
                }

            }
            }
               var first_val = $("#skin_shade option:nth-child(1)").val();
               console.log('First Value: '+first_val);
               $("#skin_shade").val(first_val).change();

        }

             function doStuffsearch2(data) {
              var unique_veh = [];
            var unique_mf = [];
            var unique_md = [];
            var unique_yr = [];
           // console.log(data);

            $.each(data, function(key,value) {
        //         console.log('Data- start: '+data[key]+'End');

        //         console.log(key+' : '+value);
        //         console.log(data[key][1]);
               var manufacturer =  data[key][1];
               var model =  data[key][2];
               var year =  data[key][3];
                var manufacturer_serh =  data[key];
        //           console.log(manu_options);

                var array_unique_veh = data[key][1];
                unique_veh.push(array_unique_veh);

                var array_unique = data[key][1];
                unique_mf.push(array_unique);

                var array_unique1 = data[key][2];
                unique_md.push(array_unique1);

                var array_unique2 = data[key][3];
                unique_yr.push(array_unique2);




                 });

                $('#make_year_opt').html('<option value="default">Select Year</option>');

                  var checkboxes = document.getElementsByName('option-skin');
               for (var checkbox of checkboxes)
               {
                 if (checkbox.checked) {
        //              alert(checkbox.value + ' ');
                   var val_type = checkbox.value.trim();
                   console.log(val_type+': shade');
                 }
               }

        //             var val_type = 'Sensitive';
                  var manufacturer_opt1 = $('#skin_shade').val();

        //              console.log(val_type+manufacturer_opt);
                 var match_array = val_type+manufacturer_opt1;
        //            console.log(match_array);

                  var loc_array =[];
                 loc_array.push(val_type);
                 loc_array.push(manufacturer_opt1);

                 $('#model_opt').empty();

              var val_model = $('#manufacturer_opt').val();
               var task_names = [];
               data.forEach(function (i) {
                 task_names.push(i);
               });

                let checker = (arr, target) => target.every(v => arr.includes(v));


                 const arr1 = loc_array;
                 console.log(arr1);



                  for (var i = 0; i < task_names.length; i++) {

                     var arr2_loc = task_names[i].filter(function (e) {return e != null;});
                   const arr2 = task_names[i];

                    const results = arr2.map(element => {
                      if (typeof element === 'string') {
                        return element.trim();
                      }

                      return element;
                    });

        //           console.log(arr2_loc);
                 const contains = (first, second) => {
                   const indexArray = first.map(el => {
                     return second.indexOf(el);
                   });
                   return indexArray.indexOf(-1) === -1;
                 }


                 var array_checked = contains(arr1, results);
        //               console.log('checked array:- '+array_checked);

                   if (array_checked== true){
        //              console.log(task_names[i]);
                     var model_val = task_names[i][2].replaceAll(' ', '-');
                    var foundation_val = task_names[i][3].replaceAll(' ', '-');
                  var primer_val = task_names[i][4].replaceAll(' ', '-');

                     console.log('Model value:- '+model_val);
                     console.log('concealer value:- '+foundation_val);
                     console.log('Primer value:- '+primer_val);

                     $('.recommended-pro').hide();
                      $('.recommended-pro').removeClass('mail-product');
                     $('.'+model_val).addClass('mail-product');
                     $('.'+model_val).show();

                      $('.'+foundation_val).addClass('mail-product');
                      $('.'+foundation_val).show();

                       $('.'+primer_val).addClass('mail-product');
                      $('.'+primer_val).show();

                     $('#step2').show();
        //                var model_option = '<option value="'+model_val+'">'+model_val+'</option>';
        //                 $("#model_opt").append('<option value="default">Select Model</option>'+model_option);
                   }



                  }






        }


           function doStuffsearchbundle(data) {
              var unique_veh = [];
            var unique_mf = [];
            var unique_md = [];
            var unique_yr = [];
           // console.log(data);

            $.each(data, function(key,value) {
        //         console.log('Data- start: '+data[key]+'End');

        //         console.log(key+' : '+value);
        //         console.log(data[key][1]);
               var manufacturer =  data[key][1];
               var model =  data[key][2];
               var year =  data[key][3];
                var manufacturer_serh =  data[key];
        //           console.log(manu_options);

                var array_unique_veh = data[key][1];
                unique_veh.push(array_unique_veh);

                var array_unique = data[key][1];
                unique_mf.push(array_unique);

                var array_unique1 = data[key][2];
                unique_md.push(array_unique1);

                var array_unique2 = data[key][3];
                unique_yr.push(array_unique2);




                 });

                $('#make_year_opt').html('<option value="default">Select Year</option>');

                  var checkboxes = document.getElementsByName('option-skin');
               for (var checkbox of checkboxes)
               {
                 if (checkbox.checked) {
        //              alert(checkbox.value + ' ');
                   var val_type = checkbox.value.trim();
                   console.log(val_type+': shade');
                 }
               }

        //             var val_type = 'Sensitive';
                  var manufacturer_opt1 = $('#skin_shade').val();

        //              console.log(val_type+manufacturer_opt);
                 var match_array = val_type+manufacturer_opt1;
        //            console.log(match_array);

                  var loc_array =[];
                 loc_array.push(val_type);
                 loc_array.push(manufacturer_opt1);

                 $('#model_opt').empty();

              var val_model = $('#manufacturer_opt').val();
               var task_names = [];
               data.forEach(function (i) {
                 task_names.push(i);
               });

                let checker = (arr, target) => target.every(v => arr.includes(v));


                 const arr1 = loc_array;
                 console.log(arr1);



                  for (var i = 0; i < task_names.length; i++) {

                     var arr2_loc = task_names[i].filter(function (e) {return e != null;});
                   const arr2 = task_names[i];

                    const results = arr2.map(element => {
                      if (typeof element === 'string') {
                        return element.trim();
                      }

                      return element;
                    });

        //           console.log(arr2_loc);
                 const contains = (first, second) => {
                   const indexArray = first.map(el => {
                     return second.indexOf(el);
                   });
                   return indexArray.indexOf(-1) === -1;
                 }


                 var array_checked = contains(arr1, results);
        //               console.log('checked array:- '+array_checked);

                   if (array_checked== true){
        //              console.log(task_names[i]);
                     var model_val = task_names[i][2].replaceAll(' ', '-');
                    var foundation_val = task_names[i][3].replaceAll(' ', '-');
                  var primer_val = task_names[i][4].replaceAll(' ', '-');

                     console.log('Model value:- '+model_val);
                     console.log('concealer value:- '+foundation_val);
                     console.log('Primer value:- '+primer_val);



                     $('.recommended-pro').hide();
                     $('.recommended-pro').removeClass('active-bundle-pro');

                      $('.recommended-pro').removeClass('mail-product');
                     $('.'+model_val).addClass('mail-product');
                     $('.'+model_val).show();

                      $('.'+foundation_val).addClass('mail-product');
                      $('.'+foundation_val).show();

                       $('.'+primer_val).addClass('mail-product');
                      $('.'+primer_val).show();
                       $('.'+primer_val).addClass('active-bundle-pro');

                      if ( model_val == 'eye-light-concealer' && foundation_val == 'decrease-foundation' && primer_val == 'over-dew-primer')
                      {
                      $('.text-combo-name').html("The Over dew Set");
                      $('.the-over-dew-set').show();
                      $('.pop-up-combo-recommendation').delay(5000).fadeIn();
                      }

                      if ( model_val == 'get-even-concealer' && foundation_val == 'get-even-foundation' && primer_val == 'get-even-primer')
                      {
                      $('.text-combo-name').html("The Get Even Set");
                      $('.the-get-even-set').show();
                      $('.pop-up-combo-recommendation').delay(5000).fadeIn();
                      }

                     if ( model_val == 'eye-light-concealer' && foundation_val == 'calm-on-foundation' && primer_val == 'calm-on-primer')
                      {
                      $('.text-combo-name').html("The Calm On Set");
                      $('.the-calm-on-set').show();
                      $('.pop-up-combo-recommendation').delay(5000).fadeIn();
                      }

                       if ( model_val == 'zit-quit-concealer' && foundation_val == 'matte-up-foundation' && primer_val == 'matte-up-balancing-primer')
                      {
                      $('.text-combo-name').html("The Zit Quit Set");
                      $('.the-zit-quit-set').show();
                      $('.pop-up-combo-recommendation').delay(5000).fadeIn();
                      }

                       if ( model_val == 'get-even-concealer' && foundation_val == 'matte-up-foundation' && primer_val == 'matte-up-balancing-primer')
                      {
                      $('.text-combo-name').html("The Matte Up Set");
                      $('.the-matte-up-set').show();
                      $('.pop-up-combo-recommendation').delay(5000).fadeIn();
                      }

                     $('#step2').show();
        //                var model_option = '<option value="'+model_val+'">'+model_val+'</option>';
        //                 $("#model_opt").append('<option value="default">Select Model</option>'+model_option);
                   }



                  }


        }

        //   Step 2 1st brand select options


          function doStuffstep21(data) {

            var unique_mf = [];
            var unique_md = [];
            var unique_yr = [];
           // console.log(data);

            $.each(data, function(key,value) {
        //         console.log('Data- start: '+data[key]+'End');

        //         console.log(key+' : '+value);
        //         console.log(data[key][1]);
               var manufacturer =  data[key][1];
               var model =  data[key][2];
               var year =  data[key][3];

        //           console.log(manu_options);


                var array_unique = data[key][0];
                unique_mf.push(array_unique);

                var array_unique1 = data[key][2];
                unique_md.push(array_unique1);

                var array_unique2 = data[key][3];
                unique_yr.push(array_unique2);


                 });



            let uni_manufacture = [...new Set(unique_mf)];
             // console.log(uni_manufacture);

            for (var i = 0; i < uni_manufacture.length; i++) {

              if(uni_manufacture[i]!= null) {
        <!--            console.log(uni_manufacture[i]); -->
               var manu_options = '<option value="'+uni_manufacture[i]+'">'+uni_manufacture[i]+'</option>';

              $('#brand_select').append(manu_options);
        //         console.log(uni_manufacture[i]);
              }
            }


                $('#step3').on('click', function() {
                  var val_type = $('#brand_select').val();
                  var manufacturer_opt1 = $('#productname_select').val();
                   var model_opt1 = $('#shade_select').val();
        //              var make_year_opt1 = $('#make_year_opt').val();
        //              console.log(manufacturer_opt+model_opt+make_year_opt);
                 var match_array = manufacturer_opt1+','+model_opt1;
        //            console.log(match_array);

                  var loc_array =[];
                 loc_array.push(val_type);
                 loc_array.push(manufacturer_opt1);
                 loc_array.push(model_opt1);
        //            loc_array.push(parseInt(make_year_opt1));
        //            loc_array.push('Small');

                 console.log(loc_array);
                    let checker = (arr, target) => target.every(v => arr.includes(v));


                 const arr1 = loc_array;
                 console.log(arr1);

                  if(arr1[0] == 'default'){
                   alert('Please select options to Search.');

                   }

                 var task_names = data;
                 for (var i = 0; i < task_names.length; i++) {

                 if ($.inArray(arr1, task_names[i]) == 1) {
                   // Neither foo or bar in array

                    var array1234 = $.map(task_names[i], function(value, index){
                       return [value];
                     });
        //              console.log('Araay comp1 : '+task_names[i]);

                     var loc1 =[];
        //              console.log(array123);
                     $.each(array1234, function(index, value){

                         loc1.push(value);

                     });
        //                console.log('Araay comp1 : '+loc1);

                 }

                   const arr2 = task_names[i];
        //             console.log(arr2);
                 const contains = (first, second) => {
                   const indexArray = first.map(el => {
                     return second.indexOf(el);
                   });
                   return indexArray.indexOf(-1) === -1;
                 }


                 var array_checked = contains(arr1, arr2);
                   console.log(array_checked);

                   if (array_checked== true){

                      console.log(contains(arr1, arr2));
                      var skinshade = task_names[i][3];
                     var foundationshade = task_names[i][4];
                     console.log('Skin Shade: '+ skinshade);
                     // console.log('FOundation Shade: '+foundationshade);
                      $('.shade-recommended').html(skinshade);
                     // $('.shade-recommended-fd').html(foundationshade);

                   }





                 }

        //            console.log(checker(array2, array1));  // false


                });


        }
        // End of brand select

        //   Step 2 Select Product Name
            function doStuffsearch22(data) {
              var unique_veh = [];
            var unique_mf = [];
            var unique_md = [];
            var unique_yr = [];
           // console.log(data);

            $.each(data, function(key,value) {
        //         console.log('Data- start: '+data[key]+'End');

        //         console.log(key+' : '+value);
        //         console.log(data[key][1]);
               var manufacturer =  data[key][1];
               var model =  data[key][2];
               var year =  data[key][3];
                var manufacturer_serh =  data[key];
        //           console.log(manu_options);

                var array_unique_veh = data[key][1];
                unique_veh.push(array_unique_veh);

                var array_unique = data[key][1];
                unique_mf.push(array_unique);

                var array_unique1 = data[key][2];
                unique_md.push(array_unique1);

                var array_unique2 = data[key][3];
                unique_yr.push(array_unique2);


                 });



                let uni_unique_veh = [...new Set(unique_veh)];
        var realveh = uni_unique_veh.filter(function (e) {return e != null;});
        //      console.log(realveh);

                 $('#productname_select').empty();


                   var val_model = $('#brand_select').val().trim();
                   console.log(val_model+'test');

                var task_names = [];
               data.forEach(function (i) {
                 task_names.push(i);
               });

               console.log(val_model+task_names.length);

            for (var i = 0; i < task_names.length; i++) {
              if(task_names[i].length>1){
        //         console.log(task_names[i]);

               if($.inArray(val_model, task_names[i]) != -1){
                  console.log(task_names[i][1]);
               var manu_options = '<option value="'+task_names[i][1]+'">'+task_names[i][1]+'</option>';

              $('#productname_select').append(manu_options);

        //         console.log(realveh[i]);



                }

            }
            }

                var prod_name = $('#productname_select').val().trim();
                   console.log(prod_name+'product name');
               parseData("https://cdn.shopify.com/s/files/1/0555/4018/7214/files/step-two-sheet.csv?v=1651376564", doStuffsearch23);
               $('#shade_select').empty();
                $('#shade_select').append('<option val="pro-shade">Select Shade</option>');
        }

        //   Product Shade Select

              function doStuffsearch23(data) {
              var unique_veh = [];
            var unique_mf = [];
            var unique_md = [];
            var unique_yr = [];
           // console.log(data);

            $.each(data, function(key,value) {
        //         console.log('Data- start: '+data[key]+'End');

        //         console.log(key+' : '+value);
        //         console.log(data[key][1]);
               var manufacturer =  data[key][1];
               var model =  data[key][2];
               var year =  data[key][3];
                var manufacturer_serh =  data[key];
        //           console.log(manu_options);

                var array_unique_veh = data[key][1];
                unique_veh.push(array_unique_veh);

                var array_unique = data[key][1];
                unique_mf.push(array_unique);

                var array_unique1 = data[key][2];
                unique_md.push(array_unique1);

                var array_unique2 = data[key][3];
                unique_yr.push(array_unique2);



        //           var val = "Ducati";
        //          var next = manufacturer_serh[($.inArray(val, manufacturer_serh) + 1) % manufacturer_serh.length];
               //console.log(next);


                 });



                 var val_type = $('#brand_select').val().trim();
                   console.log(val_type+'test');

        //             var val_type = 'Sensitive';
                  var manufacturer_opt1 = $('#productname_select').val();

        //              console.log(val_type+manufacturer_opt);
                 var match_array = val_type+manufacturer_opt1;
        //            console.log(match_array);

                  var loc_array =[];
                 loc_array.push(val_type);
                 loc_array.push(manufacturer_opt1);


              var val_model = $('#manufacturer_opt').val();
               var task_names = [];
               data.forEach(function (i) {
                 task_names.push(i);
               });

                let checker = (arr, target) => target.every(v => arr.includes(v));


                 const arr1 = loc_array;
                 console.log(arr1);

                $('#shade_select').empty();
                $('#shade_select').append('<option val="pro-shade">Select Shade</option>');

                  for (var i = 0; i < task_names.length; i++) {

                     var arr2_loc = task_names[i].filter(function (e) {return e != null;});
                   const arr2 = task_names[i];

                    const results = arr2.map(element => {
                      if (typeof element === 'string') {
                        return element.trim();
                      }

                      return element;
                    });

        //           console.log(arr2_loc);
                 const contains = (first, second) => {
                   const indexArray = first.map(el => {
                     return second.indexOf(el);
                   });
                   return indexArray.indexOf(-1) === -1;
                 }


                 var array_checked = contains(arr1, results);
        //               console.log('checked array:- '+array_checked);

                   if (array_checked== true){
        //              console.log(task_names[i]);
                     var model_val = task_names[i][2].trim();
                     console.log('Model value:- '+model_val);
        //                $('.recommended-pro').hide();
        //                $('.'+model_val).show();
                     var shade_option = '<option value="'+model_val+'">'+model_val+'</option>';
                      $("#shade_select").append(shade_option);
                   }



                  }






        }

        //   End of shade


               $('#filter_srh').on('click', function() {
                 $('.filter-loading').fadeIn();
                 $('.filter-loading').css('display', 'flex');
                 setTimeout(function() {
                   $('.filter-loading').fadeOut();
                 }, 2000);

                  var val_type = $('#vehicle_type').val();
                  var manufacturer_opt1 = $('#manufacturer_opt').val();
                   var model_opt1 = $('#model_opt').val();
                   var make_year_opt1 = $('#make_year_opt').val();
        //              console.log(manufacturer_opt+model_opt+make_year_opt);
                 var match_array = manufacturer_opt1+','+model_opt1+','+make_year_opt1;
        //            console.log(match_array);

                  var loc_array =[];
                 loc_array.push(val_type);
                 loc_array.push(manufacturer_opt1);
                 loc_array.push(model_opt1);
                 loc_array.push(parseInt(make_year_opt1));
        //            loc_array.push('Small');

        //            console.log(loc_array);
                    let checker = (arr, target) => target.every(v => arr.includes(v));


                 const arr1 = loc_array;
                 console.log(arr1);

                 var task_names = [];
                 for (var i = 0; i < data.length; i++) {


                   const arr2 = data[i];
        //             console.log(arr2);
                 const contains = (first, second) => {
                   const indexArray = first.map(el => {
                     return second.indexOf(el);
                   });
                   return indexArray.indexOf(-1) === -1;
                 }


                 var array_checked = contains(arr1, arr2);

                   console.log(array_checked);

                   if (array_checked== true){
                   console.log(data[i]);
                      console.log(contains(arr1, arr2));
                      var checked_strap = data[i][4];

                      if (checked_strap=='Small'){
        //                alert('Small');
                        $('.no_strap_found').fadeOut();
                         $('.small_strap').fadeIn();
                        $('.medium_strap').fadeOut();
                         $('.no_strap').fadeOut();
                     }
                     if (checked_strap=='Medium'){
                        $('.no_strap_found').fadeOut();
                       $('.medium_strap').fadeIn();
                       $('.small_strap').fadeOut();
                         $('.no_strap').fadeOut();
        //                alert('Medium');
                     }
                      if (checked_strap=='?'){
        //                alert('?');
                         $('.no_strap_found').fadeOut();
                          $('.no_strap').fadeIn();
                         $('.medium_strap').fadeOut();
                       $('.small_strap').fadeOut();
                     }

                   }



                 }





                  });





        function parseData(url, callBack) {
          Papa.parse(url, {
              download: true,
              dynamicTyping: true,
              complete: function(results) {
                  callBack(results.data);
              }
          });
        }

        parseData("https://cdn.shopify.com/s/files/1/0555/4018/7214/files/Skincare-quiz-foundation-01_-_Skincare-quiz-foundation_1_1.csv?v=1672252034", doStuff);



         $(document).on("click",".skin-opt",function() {
        //   alert(this.value);
             parseData("https://cdn.shopify.com/s/files/1/0555/4018/7214/files/Skincare-quiz-foundation-01_-_Skincare-quiz-foundation_1_1.csv?v=1672252034", doStuffsearch);


          });

           $('#skin_shade').on('change', function() {
        //   alert( this.value );
             parseData("https://cdn.shopify.com/s/files/1/0555/4018/7214/files/Skincare-quiz-foundation-01_-_Skincare-quiz-foundation_1_1.csv?v=1672252034", doStuffsearch2);


          });

        //   Step 2 Functions start here

        parseData("https://cdn.shopify.com/s/files/1/0555/4018/7214/files/Shades_-_step-two-sheet.csv?v=1660823446", doStuffstep21);

        $('#brand_select').on('change', function() {
          //   alert( this.value );
          parseData("https://cdn.shopify.com/s/files/1/0555/4018/7214/files/Shades_-_step-two-sheet.csv?v=1660823446", doStuffsearch22);
        });


         $('#productname_select').on('change', function() {
          //   alert( this.value );
          parseData("https://cdn.shopify.com/s/files/1/0555/4018/7214/files/Shades_-_step-two-sheet.csv?v=1660823446", doStuffsearch23);
        });

        $('#shade_select').on('change', function() {
        // $('#step3').show();
        });


        // Foundation Step 2 starts Here

          function doStufffoundation1(data) {
          console.log('Foundation Brands starts here');
            var unique_mf = [];
            var unique_md = [];
            var unique_yr = [];
           console.log(data);

            $.each(data, function(key,value) {
        //         console.log('Data- start: '+data[key]+'End');

        //         console.log(key+' : '+value);
        //         console.log(data[key][1]);
               var manufacturer =  data[key][1];
               var model =  data[key][2];
               var year =  data[key][3];

        //           console.log(manu_options);


                var array_unique = data[key][0];
                unique_mf.push(array_unique);

                var array_unique1 = data[key][2];
                unique_md.push(array_unique1);

                var array_unique2 = data[key][3];
                unique_yr.push(array_unique2);
               });

            let uni_manufacture = [...new Set(unique_mf)];
             console.log(uni_manufacture);

            for (var i = 0; i < uni_manufacture.length; i++) {

              if(uni_manufacture[i]!= null) {
                 console.log(uni_manufacture[i]);
                var foundation_brand = uni_manufacture[i].trim();

               var manu_options1 = '<option value="'+uni_manufacture[i]+'">'+uni_manufacture[i]+'</option>';

              $('#brand_select-fd').append(manu_options1);
        //         console.log(uni_manufacture[i]);
              }
            }

                $('#step3').on('click', function() {
                  var val_type = $('#brand_select-fd').val();
                  var manufacturer_opt1 = $('#productname_select-fd').val();
                   var model_opt1 = $('#shade_select-fd').val();
        //              var make_year_opt1 = $('#make_year_opt').val();
        //              console.log(manufacturer_opt+model_opt+make_year_opt);
                 var match_array = manufacturer_opt1+','+model_opt1;
        //            console.log(match_array);

                  var loc_array =[];
                 loc_array.push(val_type);
                 loc_array.push(manufacturer_opt1);
                 loc_array.push(model_opt1);
        //            loc_array.push(parseInt(make_year_opt1));
              console.log(loc_array);
                    let checker = (arr, target) => target.every(v => arr.includes(v));


                 const arr1 = loc_array;
                 console.log(arr1);

                  if(arr1[0] == 'default'){
                   alert('Please select options to Search.');

                   }

                 var task_names = data;
                 for (var i = 0; i < task_names.length; i++) {

                 if ($.inArray(arr1, task_names[i]) == 1) {
                   // Neither foo or bar in array

                    var array1234 = $.map(task_names[i], function(value, index){
                       return [value];
                     });
        //              console.log('Araay comp1 : '+task_names[i]);

                     var loc1 =[];
        //              console.log(array123);
                     $.each(array1234, function(index, value){

                         loc1.push(value);

                     });
        //                console.log('Araay comp1 : '+loc1);

                 }

                   const arr2 = task_names[i];
        //             console.log(arr2);
                 const contains = (first, second) => {
                   const indexArray = first.map(el => {
                     return second.indexOf(el);
                   });
                   return indexArray.indexOf(-1) === -1;
                 }


                 var array_checked = contains(arr1, arr2);
                   console.log(array_checked);

                   if (array_checked== true){

                      console.log(contains(arr1, arr2));
                      var skinshade = task_names[i][3];
                     var foundationshade = task_names[i][4];
                     // console.log('Skin Shade: '+ skinshade);
                     console.log('FOundation Shade: '+foundationshade);
                      // $('.shade-recommended').html(skinshade);
                     $('.shade-recommended-fd').html(skinshade);

                   }
                 }

                      //            console.log(checker(array2, array1));  // false
         });


        }
        // End of foundation brand select

        //   Step 2 Select Foundation Product Name
            function doStufffoundation2(data) {
              var unique_veh = [];
            var unique_mf = [];
            var unique_md = [];
            var unique_yr = [];
           // console.log(data);

            $.each(data, function(key,value) {
        //         console.log('Data- start: '+data[key]+'End');

        //         console.log(key+' : '+value);
        //         console.log(data[key][1]);
               var manufacturer =  data[key][1];
               var model =  data[key][2];
               var year =  data[key][3];
                var manufacturer_serh =  data[key];
        //           console.log(manu_options);

                var array_unique_veh = data[key][1];
                unique_veh.push(array_unique_veh);

                var array_unique = data[key][1];
                unique_mf.push(array_unique);

                var array_unique1 = data[key][2];
                unique_md.push(array_unique1);

                var array_unique2 = data[key][3];
                unique_yr.push(array_unique2);


                 });



                let uni_unique_veh = [...new Set(unique_veh)];
        var realveh = uni_unique_veh.filter(function (e) {return e != null;});
        //      console.log(realveh);

                 $('#productname_select-fd').empty();


                   var val_model = $('#brand_select-fd').val();
                   console.log(val_model+'test');

                var task_names = [];
               data.forEach(function (i) {
                 task_names.push(i);
               });

               console.log(val_model+task_names.length);

            for (var i = 0; i < task_names.length; i++) {
              if(task_names[i].length>1){
                console.log(task_names[i]);

               if($.inArray(val_model, task_names[i]) != -1){
                  console.log(task_names[i][1]);

               var manu_options = '<option value="'+task_names[i][1]+'">'+task_names[i][1]+'</option>';

              $('#productname_select-fd').append(manu_options);

        //         console.log(realveh[i]);



                }

            }
            }

                var prod_name = $('#productname_select-fd').val().trim();
                   console.log(prod_name+'product name');
               parseData("https://cdn.shopify.com/s/files/1/0555/4018/7214/files/Foundation_Shade_Matching.csv?v=1660901555", doStufffoundation3);
               $('#shade_select-fd').empty();
                $('#shade_select-fd').append('<option val="pro-shade">Select Foundation Shade</option>');
        }

        //  Foundation Product Shade Select

              function doStufffoundation3(data) {
              var unique_veh = [];
            var unique_mf = [];
            var unique_md = [];
            var unique_yr = [];
           // console.log(data);

            $.each(data, function(key,value) {
        //         console.log('Data- start: '+data[key]+'End');

        //         console.log(key+' : '+value);
        //         console.log(data[key][1]);
               var manufacturer =  data[key][1];
               var model =  data[key][2];
               var year =  data[key][3];
                var manufacturer_serh =  data[key];
        //           console.log(manu_options);

                var array_unique_veh = data[key][1];
                unique_veh.push(array_unique_veh);

                var array_unique = data[key][1];
                unique_mf.push(array_unique);

                var array_unique1 = data[key][2];
                unique_md.push(array_unique1);

                var array_unique2 = data[key][3];
                unique_yr.push(array_unique2);



        //           var val = "Ducati";
        //          var next = manufacturer_serh[($.inArray(val, manufacturer_serh) + 1) % manufacturer_serh.length];
               //console.log(next);


                 });



                 var val_type = $('#brand_select-fd').val();
                   console.log(val_type+'test');

        //             var val_type = 'Sensitive';
                  var manufacturer_opt1 = $('#productname_select-fd').val();

        //              console.log(val_type+manufacturer_opt);
                 var match_array = val_type+manufacturer_opt1;
        //            console.log(match_array);

                  var loc_array =[];
                 loc_array.push(val_type);
                 loc_array.push(manufacturer_opt1);


              var val_model = $('#manufacturer_opt').val();
               var task_namesf = [];
               data.forEach(function (i) {
                 task_namesf.push(i);
               });

                let checker = (arr, target) => target.every(v => arr.includes(v));


                 const arr1 = loc_array;
                 console.log(arr1);

                $('#shade_select-fd').empty();
                $('#shade_select-fd').append('<option val="pro-shade">Select Shade</option>');

                  for (var i = 0; i < task_namesf.length; i++) {

                     var arr2_loc = task_namesf[i].filter(function (e) {return e != null;});
                   const arr2 = task_namesf[i];

                    const results = arr2.map(element => {
                      if (typeof element === 'string') {
                        return element;
                      }

                      return element;
                    });

                  // console.log(arr1);
                   // console.log(results);

                 const contains = (first, second) => {
                   const indexArray = first.map(el => {
                     return second.indexOf(el);
                   });
                   return indexArray.indexOf(-1) === -1;
                 }


                 var array_checked = contains(arr1, results);
        //               console.log('checked array:- '+array_checked);

                   if (array_checked== true){
        //              console.log(task_namesf[i]);
                     var model_val = task_namesf[i][2].trim();
                     console.log('Model value:- '+model_val);
        //                $('.recommended-pro').hide();
        //                $('.'+model_val).show();
                     var shade_option = '<option value="'+model_val+'">'+model_val+'</option>';
                      $("#shade_select-fd").append(shade_option);
                   }



                  }


        }

        //   Foundation End of shade


         parseData("https://cdn.shopify.com/s/files/1/0555/4018/7214/files/Foundation_Shade_Matching.csv?v=1660901555", doStufffoundation1);

        $('#brand_select-fd').on('change', function() {
          //   alert( this.value );
          parseData("https://cdn.shopify.com/s/files/1/0555/4018/7214/files/Foundation_Shade_Matching.csv?v=1660901555", doStufffoundation2);
        });


         $('#productname_select-fd').on('change', function() {
          //   alert( this.value );
          parseData("https://cdn.shopify.com/s/files/1/0555/4018/7214/files/Foundation_Shade_Matching.csv?v=1660901555", doStufffoundation3);
        });

        $('#shade_select-fd').on('change', function() {
        $('#step3').show();
        });

        setInterval(function () {

            var usedNames = {};
            $(".consealer-select select > option").each(function () {
              if(usedNames[this.text]) {
                $(this).remove();
              } else {
                usedNames[this.text] = this.value;
              }
            });

          $('.consealer-select select option[value="null"]').remove();

        var usedNames1 = {};
         $(".foundation-select select > option").each(function () {
              if(usedNames1[this.text]) {
                $(this).remove();
              } else {
                usedNames1[this.text] = this.value;
              }
            });

          $('.foundation-select select option[value="null"]').remove();


          }, 50);

         $("#step2").click(function(){
           $(".Skin-type").fadeOut();
           $(".skin-more-options").fadeIn();
           });

        $("#step3").click(function(){
          $(".skin-more-options").fadeOut();
          $(".recommended-output").fadeIn();
               parseData("https://cdn.shopify.com/s/files/1/0555/4018/7214/files/Skincare-quiz-foundation-01_-_Skincare-quiz-foundation_1_1.csv?v=1672252034", doStuffsearchbundle);
        });

        //   $(".filtered-data .cancel").click(function(){
        //      $("#a").fadeOut();
        //      $("#b").fadeOut();
        //   $('html, body').css({
        //     overflow: 'auto',
        //     height: 'auto'
        // });
        // });



           function sendEmail(recommended_shade,recommended_pro) {
             var resultmail = $('.resultmail').val();
          Email.send({
            Host: "smtp.gmail.com",
            Username : "lornafreetesting@gmail.com",
            Password : "lorna@123",
            To : resultmail,
            From : "lornafreetesting@gmail.com",
            Subject : "Recommended Shade and Product",
            Body : "<html><h2>Recommended Shade: "+recommended_shade+"</h2>\
                    <h3>Recommnded Product: "+recommended_pro+"</h3>\
                    </html>",
          })
          .then(
            message => alert('Mail sent successfully')
          );
        }

        $('#emailresults').on('click', function() {
           var recommended_shade = $('.shade-recommended').html();
        var recommended_pro = $('.mail-product .product-item__title span').html();
          var resultmail = $('.resultmail').val();
          console.log(recommended_shade+' product '+recommended_pro+' Mail: '+resultmail);
        sendEmail(recommended_shade,recommended_pro,resultmail);
        });
      </script>
    {% endif %}
    <style>
      {% if collection.handle == 'setting-spray' or collection.handle == 'tints' %}
        .nec-reviewstars{
        display: none!important;
      }
        {%endif %}
        {% if product.handle contains 'spray' %}
          .Scrolling-section{
          margin: 0!important;
          }
          #shopify-section-template--18167245471822__174823634930edb240{
              margin: 0!important;
          }
        {% endif %}
    </style>
    {% if collection.handle == 'discount' %}
      <style>
        .desk, .mob{
        width: 100%;}
.nec-reviewstars{
display: none!important;
}
#diwali-discounts{
margin-top: 140px;
}
        @media only screen and (max-width: 600px) {
  .page-content {
   margin-top: 50px;
  }
  #diwali-discounts {
    margin-top: 102px;
    padding: 0;
}



}
      </style>

    {% endif %}
    {% if collection.handle == 'b1g1' %}
      <script>
  const announcement = document.querySelector('.announcement__text');

  function getNextDec25() {
    const now = new Date();
    let year = now.getFullYear();
    let dec25 = new Date(year, 11, 25, 0, 0, 0); // Month is 0-based

    if (now > dec25) {
      dec25 = new Date(year + 1, 11, 25, 0, 0, 0);
    }
    return dec25;
  }

  const endDate = getNextDec25();

  function updateTimer() {
    const now = new Date();
    const diff = endDate - now;

    if (diff <= 0) {
      announcement.textContent = 'Sale has ended';
      return;
    }

    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
    const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
    const minutes = Math.floor((diff / (1000 * 60)) % 60);
    const seconds = Math.floor((diff / 1000) % 60);

    announcement.textContent = 
      `Sale ends in ${days}d ${hours}h ${minutes}m ${seconds}s`;
  }

  updateTimer();
  setInterval(updateTimer, 1000);
</script>

    {% endif %}
  </body>
</html>
