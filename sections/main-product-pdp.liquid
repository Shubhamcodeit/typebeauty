<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

<product-page
  id="product-{{ section.id }}"
  class="product"
  data-collection="{{ collection.handle }}"
  data-id="{{ product.id }}"
  data-availability="{{ product.available }}"
  {% if product.has_only_default_variant %}
    data-single-variant="true"
  {% endif %}
  style="display:block"
>
  <div class="page-width">
    <div class="product-top-grid">
      <div class="product__offers">
        <div class="insider-prod">
          {%- assign current_variant = product.selected_or_first_available_variant -%}
          {%- assign product_form_id = 'product-form-' | append: section.id -%}

          {%- for block in section.blocks -%}
            {%- case block.type -%}
              {%- when 'header' -%}
                <div
                  {% if block.settings.stick_product_header_on_mobile %}
                    class="smaller-lap--hide"
                  {% else %}
                    class="set-mobile-position"
                  {% endif %}
                  {{ block.shopify_attributes }}
                >
                  <product-header
                    {% if block.settings.stick_product_header_on_mobile %}
                      data-move-header-on-mobile
                    {% endif %}
                  >
                    {%- render 'product-header',
                      product: product,
                      variant: current_variant,
                      show_vendor: block.settings.show_vendor,
                      show_tax_info: block.settings.show_tax_info,
                      show_sku: block.settings.show_sku,
                      show_barcode: block.settings.show_barcode,
                      show_reviews: block.settings.show_reviews
                    -%}
                  </product-header>
                  {%- if block.settings.stick_product_header_on_mobile -%}
                    <script>
                      ProductHeaderHelper('#product-{{ section.id }}');
                    </script>
                  {%- endif -%}
                  {% comment %}{% render 'nectorcustom_review_rating' %}{% endcomment %}
                </div>

              {%- when 'variant_picker' -%}
                <product-variants
                  data-variants="{{ product.options_with_values.size }}"
                  data-type="{{ block.settings.variants_style }}"
                  data-hide-variants="true"
                  data-url="{{ product.url }}"
                  data-id="{{ section.id }}"
                  style="display:block"
                  {{ block.shopify_attributes }}
                >
                  {%- render 'product-variants-pdp',
                    product: product,
                    color_swatches: block.settings.show_color_swatches,
                    style: block.settings.variants_style
                  -%}

                  {%- if block.settings.show_quantities != 'no' -%}
                    <span
                      class="variant-quantity product__variant-quantity"
                      {% if product.tags contains 'preorder' %}
                        style="display:none"
                      {% endif %}
                      data-type="{{ block.settings.show_quantities }}"
                    ></span>
                    {%- capture variant_inventory -%}
                  [{%- for variant in product.variants -%}{
                    "id": {{ variant.id }}{%- if variant.inventory_management != null -%}, 
                    "quantity": {{ variant.inventory_quantity }}, 
                    "inventory": "{{ variant.inventory_policy }}"{%- endif -%}
                    {%- if variant.available == false -%},"unavailable": true{%- endif -%}
                    }{%- unless forloop.last -%},{%- endunless -%}
                  {%- endfor -%}]
                {%- endcapture -%}
                    <span class="variant-quantity-data" data-inventory="{{ variant_inventory }}"></span>
                  {%- endif -%}

                  <noscript>
                    <select
                      name="id"
                      id="Variants-{{ section.id }}"
                      class="productSelect"
                      {% if product.has_only_default_variant %}
                        style="display:none!important"
                      {% endif %}
                      form="{{ product_form_id }}"
                    >
                      {%- for variant in product.variants -%}
                        <option
                          {% if variant == current_variant %}
                            selected="selected"
                          {% endif %}
                          {% if variant.available == false %}
                            disabled
                          {% endif %}
                          value="{{ variant.id }}"
                        >
                          {{ variant.title }}
                          {% if variant.available == false %}
                            - {{ 'product.inventory.sold_out_variant' | t -}}
                          {%- endif %}
                          - {{ variant.price | money | strip_html }}
                        </option>
                      {%- endfor -%}
                    </select>
                  </noscript>

                  <script type="application/json">
                    {{ product.variants | json }}
                  </script>
                </product-variants>
                {% if product.handle contains 'lipstick' %}
                  <button class="compare-shades-btn" onclick="openPopup()">Compare Shades</button>
                {% endif %}
              {%- when 'buy_buttons' -%}
                <product-form
                  id="add-to-cart-{{ section.id }}"
                  class="product__form"
                  {% if settings.cart_action == 'overlay' %}
                    data-ajax-cart
                  {% endif %}
                  style="display:block"
                  {{ block.shopify_attributes }}
                >
                  {%- form 'product',
                    product,
                    id: product_form_id,
                    class: 'form',
                    novalidate: 'novalidate',
                    data-type: 'add-to-cart-form'
                  -%}
                    <template>
                      <input type="hidden" class="item-varid" name="id" value="{{ current_variant.id }}">
                    </template>
                    <script>
                      document.getElementById('add-to-cart-{{ section.id }}').querySelector('form').append(document.getElementById('add-to-cart-{{ section.id }}').querySelector('template').content.cloneNode(true));
                    </script>
                    <p class="quant-btn desk">QUANTITY</p>

                    <div class="product__cart-actions cart-actions buttons-holder">
                      <div
                        class="product__cart-actions-holder"
                        data-value="{{ product.selected_or_first_available_variant.id }}"
                      >
                        <div class="mob-flexed">
                          <p class="quant-btn mob">QUANTITY</p>
                          <div class="quant-selector">
                            <a class="less" data-variantid="39799270506574" href="javascript:void(0)">
                              <img src="https://cdn.shopify.com/s/files/1/0555/4018/7214/files/39384297500c145afa524e1721a04663.svg?v=1650276446">
                            </a>
                            {%- if block.settings.show_quantity_selector -%}
                              <input
                                type="number"
                                name="quantity"
                                value="1"
                                min="1"
                                class="product__quantity js-qty"
                                aria-label="{{ 'product.page.quantity' | t }}"
                              >
                            {%- endif -%}
                            <a class="more" data-variantid="39799270506574" href="javascript:void(0)">
                              <img src="https://cdn.shopify.com/s/files/1/0555/4018/7214/files/18dddcc9cf53b547eaf0f76c308502f6_e2c6dbb9-0564-4b89-be39-282da393cb9c.svg?v=1650276446">
                            </a>
                          </div>
                        </div>

                        <button
                          type="submit"
                          name="add"
                          class="{% if product.handle == 'get-even-serum-foundation' or product.handle ==  'get-even-primer' %} product__add-to-cart_v1 {% endif %} {% if product.handle == 'matte-up-balancing-primer' or product.handle ==  'matte-up-foundation' %} product__add-to-cart_v2 {% endif %} {% if product.handle == 'calm-on-foundation' or product.handle ==  'calm-on-hydrating-gel-primer' %} product__add-to-cart_v3 {% endif %} {% if product.handle == 'over-dew-primer' or product.handle ==  'decrease-foundation' %} product__add-to-cart_v4 {% endif %} product__add-to-cart btbtbtn {% unless current_variant.available %} disabled {% endunless %}"
                        >
                          <span class="add-to-cart__text">
                            {%- liquid
                              if current_variant.available
                                echo 'product.page.add_to_cart_button' | t
                              else
                                echo 'product.inventory.sold_out_variant' | t
                              endif
                            -%}
                          </span>
                        </button>
                      </div>

                      {%- liquid
                        if block.settings.show_dynamic_checkout
                          echo form | payment_button
                        endif
                        echo form | payment_terms
                      -%}
                    </div>
                  {%- endform -%}
                </product-form>
                <!-- <p class="soldunits"></p> -->
                <!-- <p class="userslooking"></p> -->
                <!--
                  <h3 style="font-weight: 500;color: #ff3eb5;font-style:italic;font-size: 1.3rem;margin-top: 2rem;">
                    Estimated Delivery
                  </h3>
                -->
                {% comment %}
                  <div class="estimated">
                    <div class="one">
                      <input
                        style="margin-bottom: 0;max-height: 45px;"
                        type="text"
                        id="zipcode"
                        required
                        placeholder="Please enter PIN code"
                      >
                    </div>
                    <div class="two">
                      <button class="btbtbtn" onclick="calculateDelivery()">Check</button>
                    </div>
                  </div>
                  <div id="result"></div>
                  <div class="returns">
                    <div class="">
                      <img src="https://cdn.shopify.com/s/files/1/0555/4018/7214/files/cod_1.png?v=1731357053">
                      <p>COD Available</p>
                    </div>
                    <div class="">
                      <img src="https://cdn.shopify.com/s/files/1/0555/4018/7214/files/return-box.png?v=1731357233">
                      <p>Easy Return</p>
                    </div>
                    <div class="">
                      <img src="https://cdn.shopify.com/s/files/1/0555/4018/7214/files/fast-delivery_1.png?v=1731357052">
                      <p>Faster Delivery</p>
                    </div>
                  </div>

                  {% if product.handle contains 'foundation' %}
                    <p
                      style="
                        margin-top: 1rem;
                        font-size: 1.3rem;
                        color: #ff3eb5;
                        font-weight: 500;
                      "
                    >
                      Free exchange for shade for up to 7 days
                    </p>
                  {% endif %}
                {% endcomment %}

              {%- when 'collapsible_tab' -%}
                <toggle-tab data-index="{{ forloop.index }}" class="toggle" {{ block.shopify_attributes }}>
                  <span
                    class="toggle__title text-size--smaller"
                    tabindex="0"
                    aria-expanded="false"
                    aria-controls="toggle-{{ block.id }}"
                  >
                    {{- block.settings.heading | escape -}}
                  </span>
                  <div
                    id="toggle-{{ block.id }}"
                    class="toggle__content rte"
                    data-content-product1="{{ block.settings.content | escape }}"
                    data-content-product2="{{ block.settings.content_product2 | escape }}"
                    data-content-product3="{{ block.settings.content_product3 | escape }}"
                  >
                    {%- liquid
                      echo block.settings.content
                      unless block.settings.page == blank
                        echo block.settings.page.content
                      endunless
                      unless block.settings.image == blank
                        assign sizes = 'sizes="(max-width: 948px) calc(100vw - 20px), (min-width: 949px) and (max-width: 1023px) calc(100vw - 200px), 25vw"'
                        render 'lazy-image', image: block.settings.image, type: 'image', alt: block.settings.title, sizes: sizes
                      endunless
                    -%}
                  </div>
                </toggle-tab>

              {%- when 'pickup_avaiability' -%}
                {% comment %}
                  {%- assign pick_up_availabilities = current_variant.store_availabilities
                    | where: 'pick_up_enabled', true
                  -%}

                    <pickup-availability class="product__pickup-availabilities no-js-hidden"
                      {% if current_variant.available and pick_up_availabilities.size > 0 %} available {% endif %}
                        data-base-url="{{ shop.url }}{{ routes.root_url }}"
                        data-variant-id="{{ current_variant.id }}"
                        data-has-only-default-variant="{{ product.has_only_default_variant }}"
                        data-id="{{ section.id }}"
                        {{ block.shopify_attributes }}
                      >
                        <template>
                          <pickup-availability-preview class="pickup-availability-preview store-availability-container">
                            <div class="store-availability-information">
                              {%- render 'theme-symbols', icon: 'out_of_stock' -%}
                              <div class="store-availability-information-container">
                                <p class="store-availability-information__title">{{ 'store_availability.pick_up_currently_unavailable' | t }}</p>
                                <p class="store-availability-information__stores">
                                  <button class="button--text store-availability-information__link" data-store-availability-modal-open aria-haspopup="dialog">
                                    {{ 'store_availability.refresh' | t }}
                                  </button>
                                </p>
                              </div>
                          </div>
                        </template>
                    </pickup-availability>
                {% endcomment %}
              {%- when 'share' -%}
                <toggle-tab data-index="{{ forloop.index }}" class="toggle" {{ block.shopify_attributes }}>
                  <span
                    tabindex="0"
                    class="toggle__title text-size--smaller"
                    aria-expanded="false"
                    aria-controls="toggle-{{ block.id }}"
                  >
                    {{- 'general.sharing.title' | t -}}
                  </span>
                  <div id="toggle-{{ block.id }}" class="toggle__content rte">
                    {%- render 'share', title: product.title, url: product.url, image: product.featured_media -%}
                  </div>
                </toggle-tab>
              {%- when '@app' -%}
                <div
                  class="app"
                  {{ block.shopify_attributes }}
                >
                  {%- render block -%}
                </div>
              {% when 'Product-variant' %}
                {% assign products = block.settings.product_1
                  | append: ','
                  | append: block.settings.product_2
                  | append: ','
                  | append: block.settings.product_3
                  | split: ','
                %}

                {%- assign color_label = 'color,colour,couleur,colore,culoare,farbe,색,色,カラー,färg,farve'
                  | split: ','
                -%}
                {%- assign size_label = 'size,format,größe,talla,taille,dimension,mărime,dimensione,tamanho,寸法'
                  | split: ','
                -%}

                <div id="product-switcher">
                  <!-- Product Tabs -->
                  <div class="tab-heading">Select Concern</div>
                  <div class="product-buttons tint-flavours">
                    {% for product_handle in products %}
                      {% assign var_products = all_products[product_handle] %}
                      {% if var_products %}
                        {% assign is_active = false %}
                        {% if request.path == var_products.url %}
                          {% assign is_active = true %}
                        {% endif %}
                        <a href="{{ var_products.url }}">
                          <button
                            class="product-tab-button{% if is_active %} active{% endif %}"
                            data-product-handle="{{ var_products.handle }}"
                            data-product-id="{{ var_products.id }}"
                          >
                            {% if forloop.first %}
                              {{ block.settings.title }}
                            {% elsif forloop.last %}
                              {{ block.settings.title3 }}
                            {% else %}
                              {{ block.settings.title2 }}
                            {% endif %}
                          </button>
                        </a>
                      {% endif %}
                    {% endfor %}
                  </div>
                  <!-- Variant Swatches per Product -->
                  <div class="variant-swatches-container">
                    <div class="variant-swatches-block" data-product-id="{{ product.id }}">
                      <div
                        class="product__variants"
                        {% if product.has_only_default_variant %}
                          style="display:none;"
                        {% endif %}
                      >
                        {% for option in product.options_with_values %}
                          {% assign downcased_option = option.name | downcase %}
                          <div
                            class="product-variant"
                            data-name="product-{{ option.name | escape | downcase | strip }}"
                          >
                            <span class="product-variant__name concealer-selected-shade">
                              {{ 'product.page.select' | t }}
                              {{ option.name }} :- <span>{{ option.selected_value }}</span>
                              {% if product.handle contains 'tint' %}
                                <div class="variant-section-label">Blush</div>
                              {% endif %}
                            </span>
                            <div class="product-variant__container">
                              {% for value in option.values %}
                                {% assign matched_variant = null %}
                                {% for variant in product.variants %}
                                  {% assign option_index = -1 %}
                                  {% for opt in product.options %}
                                    {% if opt == option.name %}
                                      {% assign option_index = forloop.index0 %}
                                    {% endif %}
                                  {% endfor %}
                                  {% if option_index != -1 and variant.options[option_index] == value %}
                                    {% assign matched_variant = variant %}
                                    {% break %}
                                  {% endif %}
                                {% endfor %}

                                {% if matched_variant %}
                                  {% if forloop.index == 8 %}
                                    <!-- Insert label after 4th color swatch -->
                                    {% if product.handle contains 'tint' %}
                                      <div class="variant-section-label">Glitter</div>
                                    {% endif %}
                                    <div class="variant-row-break"></div>
                                  {% endif %}
                                  <div
                                    class="
                                      product-variant__item
                                      {% if color_label contains downcased_option %}product-variant__item--color
                                      {% elsif size_label contains downcased_option %}product-variant__item--size{% endif %}
                                    "
                                    data-attr="{{ value | replace: " ", "-" | downcase }}"
                                  >
                                    <input
                                      type="radio"
                                      name="product-{{ product.id }}-{{ option.name | escape | downcase | strip }}"
                                      id="{{ product.handle }}-option-{{ option.name | escape | downcase | strip }}-{{ forloop.index }}-{{ matched_variant.id }}"
                                      value="{{ value | escape }}"
                                      data-varid="{{ matched_variant.id }}"
                                      data-media-id="{{ matched_variant.featured_media.id }}"
                                      class="product-variant__input product-variant-value"
                                      {% if option.selected_value == value %}
                                        checked
                                      {% endif %}
                                    >
                                    <span class="tooltiptext">{{ value | escape }}</span>
                                    <label
                                      for="{{ product.handle }}-option-{{ option.name | escape | downcase | strip }}-{{ forloop.index }}-{{ matched_variant.id }}"
                                      class="product-variant__label {% if option.selected_value == value %}selected-var{% endif %}"
                                    >
                                      {% if color_label contains downcased_option %}
                                        {% assign color_swatch_name = value | handle | append: '.png' %}
                                        {% assign color_swatch_image = images[color_swatch_name] %}
                                        <span
                                          aria-hidden="true"
                                          style="{% if color_swatch_image != blank %}background-image: url({{ color_swatch_image | image_url: width: 44, height: 44 }}){% else %}background-color: {{ value | escape | replace: ' ', '' | downcase }}{% endif %}"
                                        ></span>
                                      {% else %}
                                        {{ value }}
                                      {% endif %}
                                    </label>
                                  </div>
                                {% endif %}
                              {% endfor %}
                            </div>
                          </div>
                        {% endfor %}
                      </div>
                    </div>
                  </div>

                  <!-- Shared Quantity & Add to Cart -->
                  <div class="shared-controls">
                    <div class="quantity-wrapper">
                      <button class="qty-btn minus">-</button>
                      <input type="number" class="qty-input" value="1" min="1">
                      <button class="qty-btn plus">+</button>
                    </div>
                    <button class="add-to-cart-btn">ADD TO CART</button>
                  </div>
                </div>
                <input type="hidden" id="current-product-handle" value="{{ product.handle }}">
                <script>
                  const addToCartBtn = document.querySelector('.add-to-cart-btn');
                  let activeVariantId = null;

                  // ✅ Initialize activeVariantId on load
                  const initialCheckedInput = document.querySelector('.product-variant__input:checked');
                  if (initialCheckedInput) {
                    activeVariantId = initialCheckedInput.dataset.varid;
                  }

                  // Variant selection
                  document.querySelectorAll('.product-variant__input').forEach(input => {
                    input.addEventListener('change', function () {
                      activeVariantId = this.dataset.varid;
                    });
                  });

                  // Quantity controls
                  const qtyInput = document.querySelector('.qty-input');
                  document.querySelector('.qty-btn.minus').addEventListener('click', () => {
                    if (parseInt(qtyInput.value) > 1) qtyInput.value = parseInt(qtyInput.value) - 1;
                  });
                  document.querySelector('.qty-btn.plus').addEventListener('click', () => {
                    qtyInput.value = parseInt(qtyInput.value) + 1;
                  });

                  // Add to cart button logic
                  addToCartBtn.addEventListener('click', () => {
                    const quantity = parseInt(qtyInput.value);
                    if (!activeVariantId) {
                      alert('Please select a variant!');
                      return;
                    }

                    fetch('/cart/add.js', {
                      method: 'POST',
                      headers: { 'Content-Type': 'application/json' },
                      body: JSON.stringify({ id: activeVariantId, quantity })
                    })
                    .then(res => {
                      if (!res.ok) throw new Error('Add to cart failed');
                      return fetch('?section_id=cart-helper');
                    })
                    .then(res => res.text())
                    .then(html => {
                      document.body.classList.add('sidebar-opened', 'sidebar-opened--right');
                      const sidecart = document.getElementById('site-cart-sidebar');
                      sidecart.style.display = 'block';
                      setTimeout(() => {
                        sidecart.classList.add('sidebar--opened');
                        sidecart.style.height = window.innerHeight + 'px';
                      }, 15);

                      const sectionInnerHTML = new DOMParser().parseFromString(html, 'text/html');
                      const cartFormInnerHTML = sectionInnerHTML.getElementById('AjaxCartForm').innerHTML;
                      const cartSubtotalInnerHTML = sectionInnerHTML.getElementById('AjaxCartSubtotal').innerHTML;

                      document.getElementById('AjaxCartForm').innerHTML = cartFormInnerHTML;
                      if (typeof AjaxCartForm.ajaxifyCartItems === 'function') {
                        AjaxCartForm.ajaxifyCartItems();
                      }
                      document.getElementById('AjaxCartSubtotal').innerHTML = cartSubtotalInnerHTML;
                      document.querySelector('[data-header-cart-count]').textContent =
                        document.querySelector('#AjaxCartForm [data-cart-count]').textContent;

                    })
                    .catch(err => {
                      console.error(err);
                      alert('Failed to add to cart');
                    });
                  });
                </script>
                <!--
                  <script>
                    document.addEventListener("DOMContentLoaded", function () {
                      const tabButtons = document.querySelectorAll('.product-tab-button');
                      const swatchBlocks = document.querySelectorAll('.variant-swatches-block');
                      const addToCartBtn = document.querySelector('.add-to-cart-btn');
                      let activeVariantId = null;

                      // Tab switching
                      tabButtons.forEach(button => {
                        button.addEventListener('click', () => {
                          const productId = button.dataset.productId;

                          tabButtons.forEach(btn => btn.classList.remove('active'));
                          button.classList.add('active');

                          swatchBlocks.forEach(block => {
                            block.classList.toggle('hidden', block.dataset.productId !== productId);
                          });

                          activeVariantId = null;
                          document.querySelectorAll('.product-variant__input').forEach(input => input.checked = false);

                          const activeTab = document.querySelector('.product-tab-button.active');
                          const productHandle = activeTab.dataset.productHandle?.trim().toLowerCase();
                          const titleElements = document.querySelectorAll('.product__title');
                          const subtitle = document.querySelectorAll('.major-use');
                          const description = document.querySelector('.product-description');

                            // Create product name text node
                            let productName = 'zit quit'; // default
                            if (productHandle === 'soak-it-hydra-jelly-tint') {
                              productName = 'soak it';
                            } else if (productHandle === 'get-even-hydra-jelly-tint') {
                              productName = 'get even';
                            }
                            titleElements.forEach(variantTitleDiv => {
                              // Clear old content
                              variantTitleDiv.innerHTML = '';

                              // Append new product name and variant
                              variantTitleDiv.appendChild(document.createTextNode(productName + ' '));

                              const variantSpan = document.createElement('span');
                              variantSpan.textContent = 'hydra jelly tint';
                              variantTitleDiv.appendChild(variantSpan);
                            });

                            let subTitles = 'For oily and acne prone skin';
                            if (productHandle === 'soak-it-hydra-jelly-tint') {
                              subTitles = 'For dry dehydrated skin';
                            } else if (productHandle === 'get-even-hydra-jelly-tint') {
                              subTitles = 'For Brightening and Balancing';
                            }
                            subtitle.forEach(subtitleDiv => {
                              // Clear old content
                              subtitleDiv.innerHTML = subTitles;
                            });

                            if (productHandle === 'soak-it-hydra-jelly-tint') {
                              description.textContent = 'Give your skin a juicy flush of color with this hydrating jelly tint designed for dehydrated skin. Infused with skincare benefits, it plumps and soothes while adding a natural glow to your cheeks, lips, and eyes.';
                            } else if (productHandle === 'get-even-hydra-jelly-tint'){
                              description.textContent = 'This skin-enhancing jelly tint evens tone, hydrates deeply, and delivers a sheer, dewy flush for cheeks, lips, and eyes. Ideal for Brightening and balancing the skin, its the perfect hybrid of skincare and color.'; // Or default text
                            } else{
                              description.textContent = 'A dewy jelly tint that hydrates and plumps the skin from within, delivering a fresh, natural flush of color for your eyes, cheeks, and lips. Perfect for acne-prone skin, it combines skincare with a splash of vibrant tint.'
                            }
                          updateImages();

                        });
                      });

                      // Variant selection
                      document.querySelectorAll('.product-variant__input').forEach(input => {
                        input.addEventListener('change', function () {
                          activeVariantId = this.dataset.varid;
                        });
                      });

                      // Quantity controls
                      const qtyInput = document.querySelector('.qty-input');
                      document.querySelector('.qty-btn.minus').addEventListener('click', () => {
                        if (parseInt(qtyInput.value) > 1) qtyInput.value = parseInt(qtyInput.value) - 1;
                      });
                      document.querySelector('.qty-btn.plus').addEventListener('click', () => {
                        qtyInput.value = parseInt(qtyInput.value) + 1;
                      });

                      addToCartBtn.addEventListener('click', () => {
                    const quantity = parseInt(qtyInput.value);
                    if (!activeVariantId) {
                      alert('Please select a variant!');
                      return;
                    }

                    fetch('/cart/add.js', {
                      method: 'POST',
                      headers: { 'Content-Type': 'application/json' },
                      body: JSON.stringify({ id: activeVariantId, quantity })
                    })
                    .then(res => {
                      if (!res.ok) throw new Error('Add to cart failed');
                      return fetch('?section_id=cart-helper');
                    })
                    .then(res => res.text())
                    .then(html => {
                        document.body.classList.add('sidebar-opened');
                  	  document.body.classList.add('sidebar-opened--right');
                        const sidecart = document.getElementById('site-cart-sidebar');
                  		sidecart.style.display = 'block';
                  		setTimeout(()=>{
                  			sidecart.classList.add('sidebar--opened');
                  			sidecart.style.height = window.innerHeight + 'px';
                  		}, 15);
                      const sectionInnerHTML = new DOMParser().parseFromString(html, 'text/html');
                      const cartFormInnerHTML = sectionInnerHTML.getElementById('AjaxCartForm').innerHTML;
                      const cartSubtotalInnerHTML = sectionInnerHTML.getElementById('AjaxCartSubtotal').innerHTML;

                      const cartItems = document.getElementById('AjaxCartForm');
                      cartItems.innerHTML = cartFormInnerHTML;

                      if (typeof cartItems.ajaxifyCartItems === 'function') {
                        cartItems.ajaxifyCartItems();
                      }

                      document.getElementById('AjaxCartSubtotal').innerHTML = cartSubtotalInnerHTML;
                      document.querySelector('[data-header-cart-count]').textContent =
                        document.querySelector('#AjaxCartForm [data-cart-count]').textContent;

                    })
                    .catch(err => {
                      console.error(err);
                      alert('Failed to add to cart');
                    });
                  });

                    updateImages();
                  });

                  function updateImages() {
                    const activeTab = document.querySelector('.product-tab-button.active');
                    if (!activeTab) return;

                    const productHandle = activeTab.dataset.productHandle?.trim().toLowerCase();
                    const parentImages = document.querySelectorAll('.parent-slider img');

                    parentImages.forEach((img) => {
                      const altText = img.getAttribute('alt')?.trim().toLowerCase();
                      const imgParent = img.closest('.swiper-slide');
                      if (altText === productHandle || altText === 'all' ) {
                        imgParent.style.display = 'block';
                      } else {
                        imgParent.style.display = 'none';
                      }
                    });
                    const thumbImages = document.querySelectorAll('.thumb-slider img');

                    thumbImages.forEach((img) => {
                      const altText = img.getAttribute('alt')?.trim().toLowerCase();
                      const imgParent = img.closest('.swiper-slide');
                      if (altText === productHandle || altText === 'all' ) {
                        imgParent.style.display = 'block';
                      } else {
                        imgParent.style.display = 'none';
                      }
                    });
                  }

                  </script>
                -->

              {%- when 'custom_liquid' -%}
                <div
                  class="custom_liquid"
                  {{ block.shopify_attributes }}
                >
                  {{ block.settings.custom_liquid }}
                </div>

              {%- when 'description' -%}
                <div
                  class="product__description"
                  {{ block.shopify_attributes }}
                >
                  <div class="rte">
                    {{ product.description }}
                  </div>
                </div>

              {%- when 'toggles-with-icons' -%}
                <div
                  class="mount-toggles"
                  {{ block.shopify_attributes }}
                >
                  {%- if block.settings.title != blank -%}
                    <div class="section-header">
                      <h2 class="section-header__title">{{ block.settings.title | escape }}</h2>
                    </div>
                  {%- endif -%}

                  <div class="toggles">
                    {%- liquid
                      if block.settings.feature1_title != blank or block.settings.feature1_icon != blank
                        render 'toggle-with-icon-content', title: block.settings.feature1_title, custom_icon: block.settings.feature1_icon, content: block.settings.feature1_text, id: 'product-feature-toggle-1', select_icon: 'none'
                      endif
                      if block.settings.feature2_title != blank or block.settings.feature2_icon != blank
                        render 'toggle-with-icon-content', title: block.settings.feature2_title, custom_icon: block.settings.feature2_icon, content: block.settings.feature2_text, id: 'product-feature-toggle-2', select_icon: 'none'
                      endif
                      if block.settings.feature3_title != blank or block.settings.feature3_icon != blank
                        render 'toggle-with-icon-content', title: block.settings.feature3_title, custom_icon: block.settings.feature3_icon, content: block.settings.feature3_text, id: 'product-feature-toggle-3', select_icon: 'none'
                      endif
                      if block.settings.feature4_title != blank or block.settings.feature4_icon != blank
                        render 'toggle-with-icon-content', title: block.settings.feature4_title, custom_icon: block.settings.feature4_icon, content: block.settings.feature4_text, id: 'product-feature-toggle-4', select_icon: 'none'
                      endif
                      if block.settings.feature5_title != blank or block.settings.feature5_icon != blank
                        render 'toggle-with-icon-content', title: block.settings.feature5_title, custom_icon: block.settings.feature5_icon, content: block.settings.feature5_text, id: 'product-feature-toggle-5', select_icon: 'none'
                      endif
                      if block.settings.feature6_title != blank or block.settings.feature6_icon != blank
                        render 'toggle-with-icon-content', title: block.settings.feature6_title, custom_icon: block.settings.feature6_icon, content: block.settings.feature6_text, id: 'product-feature-toggle-6', select_icon: 'none'
                      endif
                    -%}
                  </div>

                  <css-slider
                    class="css-slider css-slider--snapping images-with-text-slider"
                    id="css-slider-{{ block.id }}"
                    data-navigation-class="lap--six-tenths smaller-lap--twelve-tenths push-left-one-tenth lap--push-left-padding"
                  >
                    <div class="images-with-text-slider__titles css-slides-container grid push-right-half-tenth lap--push-right-padding">
                      {%- liquid
                        if block.settings.image1_title != blank or block.settings.image1 != blank
                          render 'image-with-text-slider-title', first: true, index: 0, heading: block.settings.image1_title, heading_type: 'body'
                        endif
                        if block.settings.image2_title != blank or block.settings.image2 != blank
                          render 'image-with-text-slider-title', index: 1, heading: block.settings.image2_title, heading_type: 'body'
                        endif
                        if block.settings.image3_title != blank or block.settings.image3 != blank
                          render 'image-with-text-slider-title', index: 2, heading: block.settings.image3_title, heading_type: 'body'
                        endif
                        if block.settings.image4_title != blank or block.settings.image4 != blank
                          render 'image-with-text-slider-title', index: 3, heading: block.settings.image4_title, heading_type: 'body'
                        endif
                        if block.settings.image5_title != blank or block.settings.image5 != blank
                          render 'image-with-text-slider-title', index: 4, heading: block.settings.image5_title, heading_type: 'body'
                        endif
                        if block.settings.image6_title != blank or block.settings.image6 != blank
                          render 'image-with-text-slider-title', index: 5, heading: block.settings.image6_title, heading_type: 'body'
                        endif
                      -%}
                    </div>

                    <div class="images-with-text-slider__content css-slides-container grid push-right-half-tenth lap--push-right-padding">
                      {%- liquid
                        if block.settings.image1 != blank or block.settings.image1_caption
                          render 'image-with-text-slider-image', first: true, image: block.settings.image1, caption: block.settings.image1_caption, aspect_ratio: block.settings.gallery_aspect
                        endif
                        if block.settings.image2 != blank or block.settings.image2_caption
                          render 'image-with-text-slider-image', image: block.settings.image2, caption: block.settings.image2_caption, aspect_ratio: block.settings.gallery_aspect
                        endif
                        if block.settings.image3 != blank or block.settings.image3_caption
                          render 'image-with-text-slider-image', image: block.settings.image3, caption: block.settings.image3_caption, aspect_ratio: block.settings.gallery_aspect
                        endif
                        if block.settings.image4 != blank or block.settings.image4_caption
                          render 'image-with-text-slider-image', image: block.settings.image4, caption: block.settings.image4_caption, aspect_ratio: block.settings.gallery_aspect
                        endif
                        if block.settings.image5 != blank or block.settings.image5_caption
                          render 'image-with-text-slider-image', image: block.settings.image5, caption: block.settings.image5_caption, aspect_ratio: block.settings.gallery_aspect
                        endif
                        if block.settings.image6 != blank or block.settings.image6_caption
                          render 'image-with-text-slider-image', image: block.settings.image6, caption: block.settings.image6_caption, aspect_ratio: block.settings.gallery_aspect
                        endif
                      -%}
                    </div>
                  </css-slider>
                </div>
            {%- endcase -%}
          {%- endfor -%}
          {% include 'add-on-product' %}
        </div>
      </div>

      {% if product.handle contains 'shimmer'
        or product.handle contains '20ml'
        or product.handle contains 'light-up-lipstick'
        or product.handle contains 'soak-it-lipstick'
        or product.handle contains 'get-even-hydra-jelly-tint'
        or product.handle contains 'soak-it-hydra-jelly-tint'
        or product.handle contains 'zit-quit-hydra-jelly-tint'
        or product.handle contains 'soak-it-lip-lustre'
        or product.handle contains 'light-up-lip-lustre'
        or product.handle contains 'oil'
         or product.handle contains 'spray'
      %}
        <div class="product__gallery" style="z-ndex: 99999!important;">
          <div class="mobile-only">
            {%- assign current_variant = product.selected_or_first_available_variant -%}
            {%- assign product_form_id = 'product-form-' | append: section.id -%}

            {%- for block in section.blocks -%}
              {%- case block.type -%}
                {%- when 'header' -%}
                  <div
                    {% if block.settings.stick_product_header_on_mobile %}
                      class="smaller-lap--hide"
                    {% else %}
                      class="set-mobile-position"
                    {% endif %}
                    {{ block.shopify_attributes }}
                  >
                    <product-header
                      {% if block.settings.stick_product_header_on_mobile %}
                        data-move-header-on-mobile
                      {% endif %}
                    >
                      {%- render 'product-header',
                        product: product,
                        variant: current_variant,
                        show_vendor: block.settings.show_vendor,
                        show_tax_info: block.settings.show_tax_info,
                        show_sku: block.settings.show_sku,
                        show_barcode: block.settings.show_barcode,
                        show_reviews: block.settings.show_reviews
                      -%}
                    </product-header>
                    {%- if block.settings.stick_product_header_on_mobile -%}
                      <script>
                        ProductHeaderHelper('#product-{{ section.id }}');
                      </script>
                    {%- endif -%}
                    {% comment %}  {% render 'nectorcustom_review_rating' %} {% endcomment %}
                  </div>
              {% endcase %}
            {% endfor %}
          </div>
          <div class="parent-slider-original" style="display: none;">
            {% for media in product.media %}
              {% if media.media_type == 'image' %}
                <img src="{{ media | img_url: 'master' }}" alt="{{ media.alt }}">
              {% else %}
                {%- liquid
                  echo media | media_tag: image_size: '4048x', autoplay: true, loop: loop, controls: true, preload: 'none'
                -%}
              {% endif %}
            {% endfor %}
          </div>
          <div class="thumb-slider-original" style="display: none;">
            {% for media in product.media %}
              {% if media.media_type == 'image' %}
                <img src="{{ media | img_url: 'master' }}" alt="{{ image.alt }}">
              {% else %}
                {%- liquid
                  echo media | media_tag: image_size: '4048x', autoplay: true, loop: loop, controls: true, preload: 'none'
                -%}
              {% endif %}
            {% endfor %}
          </div>

          <div class="parent-slider swiper">
            <div class="swiper-wrapper">
              {% for media in product.media %}
                <div class="swiper-slide" data-media-id="{{ media.id }}">
                  {% if media.media_type == 'image' %}
                    <img src="{{ media | img_url: 'master' }}" alt="{{ media.alt }}">
                  {% else %}
                    {%- liquid
                      echo media | media_tag: image_size: '4048x', autoplay: true, loop: loop, controls: true, preload: 'none'
                    -%}
                  {% endif %}
                </div>
              {% endfor %}
            </div>
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>
          </div>
          <div class="thumb-slider swiper">
            <div class="swiper-wrapper">
              {% for media in product.media %}
                <div class="swiper-slide">
                  {% if media.media_type == 'image' %}
                    <img src="{{ media | img_url: 'master' }}" alt="{{ media.alt }}">
                  {% else %}
                    {%- liquid
                      echo media | media_tag: image_size: '4048x', autoplay: true, loop: loop, controls: true, preload: 'none'
                    -%}
                  {% endif %}
                </div>
              {% endfor %}
            </div>
          </div>
        </div>
      {% else %}
        <div class="original-gallery outer-gallery product__gallery" style="z-ndex: 99999!important;">
          {%- assign sizes = 'sizes="(max-width: 835px) calc(100vw - 90px), (max-width: 1023px) 50vw, 42vw"' -%}

          <product-slider
            id="product-gallery-{{ section.id }}"
            class="product-gallery inner-gallery"
            data-size="{{ product.media.size }}"
            style="display:block;"
          >
            <div class="product-gallery__viewport">
              <div class="product-gallery__container push-left-one-tenth lap--push-left-none">
                <div class="product-gallery__items">
                  {%- if product.media.size == 0 -%}
                    <div class="product-gallery__item" style="width: 100%;">
                      <span class="onboarding-svg with-background">
                        {{ 'product-1' | placeholder_svg_tag }}
                      </span>
                    </div>
                  {%- endif -%}

                  {%- liquid
                    for media in product.media
                      render 'product-media', media: media, enable_zoom: section.settings.enable_zoom, index: forloop.index0, media_aspect: section.settings.media_aspect, loop: section.settings.enable_video_looping, sizes: sizes
                    endfor
                  -%}
                </div>
              </div>
            </div>
          </product-slider>
          {%- assign first_3d_model = product.media | where: 'media_type', 'model' | first -%}

          {%- if first_3d_model -%}
            <button
              aria-label="{{ 'product.page.view_in_space_label' | t }}"
              class="product-gallery__view-in-space"
              data-shopify-xr
              data-shopify-first-model3d-id="{{ first_3d_model.id }}"
              data-shopify-model3d-id="{{ first_3d_model.id }}"
              data-shopify-title="{{ product.title | escape }}"
              data-shopify-xr-hidden
            >
              <span aria-hidden="true">{%- render 'theme-symbols', icon: 'model-button' -%}</span>
              <span class="product-gallery__view-in-space-text">{{ 'product.page.view_in_space' | t }}</span>
            </button>

            <link
              id="ModelViewerStyle"
              rel="stylesheet"
              href="https://cdn.shopify.com/shopifycloud/model-viewer-ui/assets/v1.0/model-viewer-ui.css"
              media="print"
              onload="this.media='all'"
            >
          {%- endif -%}
        </div>
      {% endif %}

      {%- if first_3d_model -%}
        <script type="application/json" id="ProductJSON-{{ product.id }}">
          {{ product.media | where: 'media_type', 'model' | json }}
        </script>
      {%- endif -%}
    </div>
  </div>
</product-page>
<script>
   var swiper = new Swiper(".thumb-slider", {
    spaceBetween: 10,
    slidesPerView: 6,
    freeMode: true,
    watchSlidesProgress: true,
    loop: true,
  });
  var swiper2 = new Swiper(".parent-slider", {
    spaceBetween: 10,
    loop: true,
    navigation: {
      nextEl: ".swiper-button-next",
      prevEl: ".swiper-button-prev",
    },
    thumbs: {
      swiper: swiper,
    },
  });
</script>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    const variantInputs = document.querySelectorAll('.product-variant-value');
    const swiperInstance = document.querySelector('.parent-slider').swiper;

    variantInputs.forEach(input => {
      input.addEventListener('change', function () {
        const mediaId = this.dataset.mediaId;

        if (mediaId && swiperInstance) {
          const slides = document.querySelectorAll('.swiper-slide');
          slides.forEach((slide, index) => {
            if (slide.dataset.mediaId === mediaId) {
              swiperInstance.slideTo(index);
            }
          });
        }
      });
    });
  });
</script>

<script>
  // document.addEventListener('DOMContentLoaded', function () {
  //   const productMap = {
  //   'zit-quit-hydra-jelly-tint': 'product1',
  //   'soak-it-hydra-jelly-tint': 'product2',
  //   'get-even-hydra-jelly-tint': 'product3'
  //   };

  //   function updateCollapsibleTabContent(handle) {
  //     // console.log('Tab clicked with handle:', handle);

  //     const suffix = productMap[handle];
  //     // console.log('Mapped suffix:', suffix);

  //     if (!suffix) {
  //       // console.warn('No suffix found for handle:', handle);
  //       return;
  //     }

  //     const dataKey = 'content' + suffix.charAt(0).toUpperCase() + suffix.slice(1); // contentProduct1
  //     // console.log('Looking for data key:', dataKey);

  //     document.querySelectorAll('.toggle__content').forEach(contentEl => {
  //       const dynamicContent = contentEl.dataset[dataKey];
  //       // console.log('Dynamic content found:', dynamicContent);

  //       if (dynamicContent) {
  //         contentEl.innerHTML = dynamicContent;
  //       }
  //     });
  //   }

  //   // Initial tab load
  //   const firstTab = document.querySelector('.product-tab-button.active');
  //   if (firstTab) {
  //     const handle = firstTab.dataset.productHandle;
  //     // console.log('Initial tab handle:', handle);
  //     updateCollapsibleTabContent(handle);
  //   }

  //   // Button click listener
  //   document.querySelectorAll('.product-tab-button').forEach(button => {
  //     button.addEventListener('click', function () {
  //       const handle = this.dataset.productHandle;
  //       // console.log('Clicked tab handle:', handle);
  //       updateCollapsibleTabContent(handle);
  //     });
  //   });
  // });
</script>

{% schema %}
{
   "name": "t:sections.main-product.name",
   "class": "mount-product-page mount-product-gallery mount-css-slider main-product section-w-margin",
   "tag": "section",
   "blocks": [
     {
       "type": "@app"
     },
     {
      "type": "Product-variant",
       "name": "Product-variant",
       "limit": 1,
       "settings": [
         {
           "type": "text",
            "id": "title",
            "label": "Title"
         },
         {
            "type": "product",
            "id": "product_1",
            "label": "Product 1"
          },
          {
           "type": "text",
            "id": "title2",
            "label": "Title 2"
           },
          {
            "type": "product",
            "id": "product_2",
            "label": "Product 2"
          },
          {
           "type": "text",
            "id": "title3",
            "label": "Title 3"
           },
          {
            "type": "product",
            "id": "product_3",
            "label": "Product 3"
          }
       ]
     },
     {
       "type": "header",
       "name": "t:sections.highlight-extra-words.product-page.product-header.header",
       "limit": 1,
       "settings": [
         {
           "type": "checkbox",
           "id": "show_vendor",
           "label": "t:sections.highlight-extra-words.product-page.product-header.show_vendor",
           "default": true
         },
         {
           "type": "checkbox",
           "id": "show_reviews",
           "label": "t:sections.highlight-extra-words.product-page.product-header.show_reviews",
           "default": true
         },
         {
           "type": "checkbox",
           "id": "show_tax_info",
           "label": "t:sections.highlight-extra-words.product-page.product-header.show_tax_info",
           "default": false
         },
         {
           "type": "checkbox",
           "id": "show_sku",
           "label": "t:sections.highlight-extra-words.product-page.product-header.show_sku",
           "default": false
         },
         {
           "type": "checkbox",
           "id": "show_barcode",
           "label": "t:sections.highlight-extra-words.product-page.product-header.show_barcode",
           "default": false
         },
         {
           "type": "header",
           "content": "t:sections.split-extra-words.product-header-extra.name"
         },
         {
           "type": "checkbox",
           "id": "stick_product_header_on_mobile",
           "label": "t:sections.split-extra-words.product-header-extra.label",
           "info": "t:sections.split-extra-words.product-header-extra.info",
           "default": true
         }
       ]
     },
     {
       "type": "variant_picker",
       "name": "t:sections.main-product.blocks.variant_picker.name",
       "limit": 1,
       "settings": [
         {
           "type": "select",
           "id": "variants_style",
           "label": "t:sections.split-extra-words.sections.main-product.settings.variants.label",
           "options": [
             {
               "value": "radio",
               "label": "t:sections.split-extra-words.sections.main-product.settings.variants.options__1"
             },
             {
               "value": "select",
               "label": "t:sections.split-extra-words.sections.main-product.settings.variants.options__2"
             }
           ],
           "default": "radio"
         },
         {
           "type": "checkbox",
           "id": "show_color_swatches",
           "label": "t:sections.highlight-extra-words.product-page.color_swatches.label",
           "info": "t:sections.highlight-extra-words.product-page.color_swatches.info",
           "default": true
         },
         {
           "type": "select",
           "id": "show_quantities",
           "label": "t:sections.main-product.blocks.variant_picker.settings.low_inventory_notification.label",
           "info": "t:sections.main-product.blocks.variant_picker.settings.low_inventory_notification.info",
           "options": [
             {
               "value": "no",
               "label": "t:sections.main-product.blocks.variant_picker.settings.low_inventory_notification.options__1.label"
             },
             {
               "value": "below",
               "label": "t:sections.main-product.blocks.variant_picker.settings.low_inventory_notification.options__2.label"
             },
             {
               "value": "always",
               "label": "t:sections.main-product.blocks.variant_picker.settings.low_inventory_notification.options__3.label"
             }
           ],
           "default": "no"
         }
       ]
     },
     {
       "type": "buy_buttons",
       "name": "t:sections.main-product.blocks.buy_buttons.name",
       "limit": 1,
       "settings": [
         {
           "type": "checkbox",
           "id": "show_dynamic_checkout",
           "label": "t:sections.main-product.blocks.buy_buttons.settings.show_dynamic_checkout.label",
           "info": "t:sections.main-product.blocks.buy_buttons.settings.show_dynamic_checkout.info",
           "default": true
         },
         {
           "type": "checkbox",
           "id": "show_quantity_selector",
           "label": "t:sections.main-product.blocks.buy_buttons.settings.show_quantity_selector.label",
           "default": true
         }
       ]
     },
     {
       "type": "share",
       "name": "t:sections.main-product.blocks.share.name",
       "limit": 1,
       "settings": [
         {
           "type": "paragraph",
           "content": "t:sections.main-product.blocks.share.settings.featured_image_info.content"
         },
         {
           "type": "paragraph",
           "content": "t:sections.main-product.blocks.share.settings.title_info.content"
         }
       ]
     },
     {
       "type": "description",
       "name": "t:sections.main-product.blocks.description.name",
       "limit": 1
     },
     {
       "type": "custom_liquid",
       "name": "t:sections.custom-liquid.name",
       "settings": [
         {
           "type": "liquid",
           "id": "custom_liquid",
           "label": "t:sections.custom-liquid.settings.custom_liquid.label"
         }
       ]
     },
     {
       "type": "collapsible_tab",
       "name": "t:sections.main-product.blocks.collapsible_tab.name",
       "settings": [
         {
           "id": "heading",
           "type": "text",
           "info": "t:sections.main-product.blocks.collapsible_tab.settings.heading.info",
           "label": "t:sections.main-product.blocks.collapsible_tab.settings.heading.label",
           "default": "Collapsible tab"
         },
         {
           "id": "content",
           "type": "richtext",
           "label": "t:sections.main-product.blocks.collapsible_tab.settings.content.label"
         },
        {
          "type": "richtext",
          "id": "content_product2",
          "label": "Content for Product 2"
        },
        {
          "type": "richtext",
          "id": "content_product3",
          "label": "Content for Product 3"
        },
         {
           "id": "page",
           "type": "page",
           "label": "t:sections.main-product.blocks.collapsible_tab.settings.page.label"
         },
         {
           "type": "image_picker",
           "id": "image",
           "label": "t:sections.main-product.blocks.collapsible_tab.settings.image.label"
         }
       ]
     },
     {
       "type": "pickup_avaiability",
       "name": "t:sections.main-product.blocks.pickup_availability.name",
       "limit": 1
     },
     {
       "type": "images-with-text-slider",
       "name": "t:sections.highlight-extra-words.product-page.images-with-text-slider.name",
       "limit": 1,
       "settings": [
         {
           "type": "text",
           "id": "title",
           "label": "t:sections.highlight-extra-words.heading.label",
           "default": "Additional product images"
         },
         {
           "type": "select",
           "id": "gallery_aspect",
           "label": "t:settings_schema.product-grid.settings.aspect_ratio.label",
           "options": [
             {
               "value": "1.33333",
               "label": "t:sections.gallery.settings.aspect_ratio.options__1.label",
               "group": "t:sections.gallery.settings.aspect_ratio.options__1.group"
             },
             {
               "value": "1",
               "label": "t:sections.gallery.settings.aspect_ratio.options__2.label",
               "group": "t:sections.gallery.settings.aspect_ratio.options__1.group"
             },
             {
               "value": "0.83333",
               "label": "t:sections.gallery.settings.aspect_ratio.options__3.label",
               "group": "t:sections.gallery.settings.aspect_ratio.options__1.group"
             },
             {
               "value": "0.666667",
               "label": "t:sections.gallery.settings.aspect_ratio.options__4.label",
               "group": "t:sections.gallery.settings.aspect_ratio.options__1.group"
             }
           ],
           "default": "1"
         },
         {
           "type": "header",
           "content": "t:sections.highlight-extra-words.product-page.images-with-text-slider.image_1"
         },
         {
           "type": "image_picker",
           "id": "image1",
           "label": "t:sections.highlight-extra-words.product-page.images-with-text-slider.settings.image.label"
         },
         {
           "type": "text",
           "id": "image1_title",
           "label": "t:sections.highlight-extra-words.product-page.images-with-text-slider.settings.title.label"
         },
         {
           "type": "richtext",
           "id": "image1_caption",
           "label": "t:sections.highlight-extra-words.product-page.images-with-text-slider.settings.caption.label"
         },
         {
           "type": "header",
           "content": "t:sections.highlight-extra-words.product-page.images-with-text-slider.image_2"
         },
         {
           "type": "image_picker",
           "id": "image2",
           "label": "t:sections.highlight-extra-words.product-page.images-with-text-slider.settings.image.label"
         },
         {
           "type": "text",
           "id": "image2_title",
           "label": "t:sections.highlight-extra-words.product-page.images-with-text-slider.settings.title.label"
         },
         {
           "type": "richtext",
           "id": "image2_caption",
           "label": "t:sections.highlight-extra-words.product-page.images-with-text-slider.settings.caption.label"
         },
         {
           "type": "header",
           "content": "t:sections.highlight-extra-words.product-page.images-with-text-slider.image_3"
         },
         {
           "type": "image_picker",
           "id": "image3",
           "label": "t:sections.highlight-extra-words.product-page.images-with-text-slider.settings.image.label"
         },
         {
           "type": "text",
           "id": "image3_title",
           "label": "t:sections.highlight-extra-words.product-page.images-with-text-slider.settings.title.label"
         },
         {
           "type": "richtext",
           "id": "image3_caption",
           "label": "t:sections.highlight-extra-words.product-page.images-with-text-slider.settings.caption.label"
         },
         {
           "type": "header",
           "content": "t:sections.highlight-extra-words.product-page.images-with-text-slider.image_4"
         },
         {
           "type": "image_picker",
           "id": "image4",
           "label": "t:sections.highlight-extra-words.product-page.images-with-text-slider.settings.image.label"
         },
         {
           "type": "text",
           "id": "image4_title",
           "label": "t:sections.highlight-extra-words.product-page.images-with-text-slider.settings.title.label"
         },
         {
           "type": "richtext",
           "id": "image4_caption",
           "label": "t:sections.highlight-extra-words.product-page.images-with-text-slider.settings.caption.label"
         },
         {
           "type": "header",
           "content": "t:sections.highlight-extra-words.product-page.images-with-text-slider.image_5"
         },
         {
           "type": "image_picker",
           "id": "image5",
           "label": "t:sections.highlight-extra-words.product-page.images-with-text-slider.settings.image.label"
         },
         {
           "type": "text",
           "id": "image5_title",
           "label": "t:sections.highlight-extra-words.product-page.images-with-text-slider.settings.title.label"
         },
         {
           "type": "richtext",
           "id": "image5_caption",
           "label": "t:sections.highlight-extra-words.product-page.images-with-text-slider.settings.caption.label"
         },
         {
           "type": "header",
           "content": "t:sections.highlight-extra-words.product-page.images-with-text-slider.image_6"
         },
         {
           "type": "image_picker",
           "id": "image6",
           "label": "t:sections.highlight-extra-words.product-page.images-with-text-slider.settings.image.label"
         },
         {
           "type": "text",
           "id": "image6_title",
           "label": "t:sections.highlight-extra-words.product-page.images-with-text-slider.settings.title.label"
         },
         {
           "type": "richtext",
           "id": "image6_caption",
           "label": "t:sections.highlight-extra-words.product-page.images-with-text-slider.settings.caption.label"
         }
       ]
     },
     {
       "type": "toggles-with-icons",
       "name": "t:sections.highlight-extra-words.product-page.toggles-with-icons.name",
       "limit": 1,
       "settings": [
         {
           "type": "text",
           "id": "title",
           "label": "t:sections.highlight-extra-words.heading.label",
           "default": "Key product features"
         },
         {
           "type": "paragraph",
           "content": "t:sections.text-columns-with-icons.settings.icons.info"
         },
         {
           "type": "header",
           "content": "t:sections.highlight-extra-words.product-page.toggles-with-icons.feature_1"
         },
         {
           "type": "text",
           "id": "feature1_title",
           "label": "t:sections.highlight-extra-words.product-page.toggles-with-icons.settings.title.label"
         },
         {
           "type": "image_picker",
           "id": "feature1_icon",
           "label": "t:sections.highlight-extra-words.product-page.toggles-with-icons.settings.icon.label",
           "info": "t:sections.highlight-extra-words.custom-icon.info"
         },
         {
           "type": "richtext",
           "id": "feature1_text",
           "label": "t:sections.highlight-extra-words.product-page.toggles-with-icons.settings.text.label"
         },
         {
           "type": "header",
           "content": "t:sections.highlight-extra-words.product-page.toggles-with-icons.feature_2"
         },
         {
           "type": "text",
           "id": "feature2_title",
           "label": "t:sections.highlight-extra-words.product-page.toggles-with-icons.settings.title.label"
         },
         {
           "type": "image_picker",
           "id": "feature2_icon",
           "label": "t:sections.highlight-extra-words.product-page.toggles-with-icons.settings.icon.label",
           "info": "t:sections.highlight-extra-words.custom-icon.info"
         },
         {
           "type": "richtext",
           "id": "feature2_text",
           "label": "t:sections.highlight-extra-words.product-page.toggles-with-icons.settings.text.label"
         },
         {
           "type": "header",
           "content": "t:sections.highlight-extra-words.product-page.toggles-with-icons.feature_3"
         },
         {
           "type": "text",
           "id": "feature3_title",
           "label": "t:sections.highlight-extra-words.product-page.toggles-with-icons.settings.title.label"
         },
         {
           "type": "image_picker",
           "id": "feature3_icon",
           "label": "t:sections.highlight-extra-words.product-page.toggles-with-icons.settings.icon.label",
           "info": "t:sections.highlight-extra-words.custom-icon.info"
         },
         {
           "type": "richtext",
           "id": "feature3_text",
           "label": "t:sections.highlight-extra-words.product-page.toggles-with-icons.settings.text.label"
         },
         {
           "type": "header",
           "content": "t:sections.highlight-extra-words.product-page.toggles-with-icons.feature_4"
         },
         {
           "type": "text",
           "id": "feature4_title",
           "label": "t:sections.highlight-extra-words.product-page.toggles-with-icons.settings.title.label"
         },
         {
           "type": "image_picker",
           "id": "feature4_icon",
           "label": "t:sections.highlight-extra-words.product-page.toggles-with-icons.settings.icon.label",
           "info": "t:sections.highlight-extra-words.custom-icon.info"
         },
         {
           "type": "richtext",
           "id": "feature4_text",
           "label": "t:sections.highlight-extra-words.product-page.toggles-with-icons.settings.text.label"
         },
         {
           "type": "header",
           "content": "t:sections.highlight-extra-words.product-page.toggles-with-icons.feature_5"
         },
         {
           "type": "text",
           "id": "feature5_title",
           "label": "t:sections.highlight-extra-words.product-page.toggles-with-icons.settings.title.label"
         },
         {
           "type": "image_picker",
           "id": "feature5_icon",
           "label": "t:sections.highlight-extra-words.product-page.toggles-with-icons.settings.icon.label",
           "info": "t:sections.highlight-extra-words.custom-icon.info"
         },
         {
           "type": "richtext",
           "id": "feature5_text",
           "label": "t:sections.highlight-extra-words.product-page.toggles-with-icons.settings.text.label"
         },
         {
           "type": "header",
           "content": "t:sections.highlight-extra-words.product-page.toggles-with-icons.feature_6"
         },
         {
           "type": "text",
           "id": "feature6_title",
           "label": "t:sections.highlight-extra-words.product-page.toggles-with-icons.settings.title.label"
         },
         {
           "type": "image_picker",
           "id": "feature6_icon",
           "label": "t:sections.highlight-extra-words.product-page.toggles-with-icons.settings.icon.label",
           "info": "t:sections.highlight-extra-words.custom-icon.info"
         },
         {
           "type": "richtext",
           "id": "feature6_text",
           "label": "t:sections.highlight-extra-words.product-page.toggles-with-icons.settings.text.label"
         }
       ]
     }
   ],
   "settings": [
     {
       "type": "header",
       "content": "t:sections.main-product.settings.header.content",
       "info": "t:sections.main-product.settings.header.info"
     },
     {
       "type": "select",
       "id": "media_aspect",
       "label": "t:settings_schema.product-grid.settings.aspect_ratio.label",
       "options": [
         {
           "value": "natural",
           "label": "t:sections.gallery.settings.aspect_ratio.options__5.label",
           "group": "t:sections.gallery.settings.aspect_ratio.options__5.group"
         },
         {
           "value": "1.33333",
           "label": "t:sections.gallery.settings.aspect_ratio.options__1.label",
           "group": "t:sections.gallery.settings.aspect_ratio.options__1.group"
         },
         {
           "value": "1",
           "label": "t:sections.gallery.settings.aspect_ratio.options__2.label",
           "group": "t:sections.gallery.settings.aspect_ratio.options__1.group"
         },
         {
           "value": "0.83333",
           "label": "t:sections.gallery.settings.aspect_ratio.options__3.label",
           "group": "t:sections.gallery.settings.aspect_ratio.options__1.group"
         },
         {
           "value": "0.666667",
           "label": "t:sections.gallery.settings.aspect_ratio.options__4.label",
           "group": "t:sections.gallery.settings.aspect_ratio.options__1.group"
         }
       ],
       "default": "natural",
       "info": "t:sections.gallery.settings.aspect_ratio.info"
     },
     {
       "type": "checkbox",
       "id": "enable_zoom",
       "label": "t:sections.main-product.settings.enable_zoom.label",
       "default": true
     },
     {
       "type": "checkbox",
       "id": "enable_video_looping",
       "label": "t:sections.main-product.settings.enable_video_looping.label",
       "default": false
     }
   ]
 }
{% endschema %}

<!--
  <script>

      function refreshCart(){
    $.ajax({
      type: 'GET',
      url: '/cart.js',
      dataType: 'json',
      success: function(data) {
        console.log(data);
        var cart_structure = "";
        var cart_structure1 = "";
        var empty_cart = " ";

        if(data.item_count > 0) {
          $('.cart-heading').show();
          $('.empty-cart').hide();
          $('.bottom-content').show();
          $('.site-cart-heading').text(data.item_count+' PRODUCT IN YOUR CART');
          $('.cart__footer').removeClass().addClass('cart__footer');
          $('#site-cart-sidebar').addClass('sidebar--opened');
          $('#site-cart-sidebar').css('display','block');
          $('body').addClass('sidebar-opened');
        }
        else{
          $('.cart-heading').hide();
          $('.empty-cart').show();
          $('.bottom-content').hide();
          $('.site-cart-heading').text(data.item_count+' PRODUCT IN YOUR CART');
          $('.cart__footer').addClass('cart--empty');
        }



        $(data.items).each(function (ix, em){

          if(data.item_count > 0) {

            var elements = "<div>";
            if (data.item_count > 0) {
              elements += 'test';
            }
            elements += "</div>";


            var elements123 = "<div>";
            for(var key in em.properties) {
              //            var elements123 +=('key: ' + key + '\n' + 'value: ' + em.properties[key]);
              elements123 += "<div>"+ key +" : "+em.properties[key]+"</div>";

              var deodem = em.properties[key];
              if(deodem === "Bundle-Product"){
                var prm = deodem;
              }
              else{
                var prm = "";
              }
            }elements += "</div>";

            cart_structure += '<div class="cart-item" data-title="Eye Light Concealer " data-id="39741437378638:3a4d287232ccdc0d9b8674e956f4d699" data-variant="39741437378638" data-qty="1">'+
              '<div>'+
              '<a href="'+em.url+'" class="thumbnail">'+
              '<figure class="lazy-image  lazy-image--transparent " data-ratio="" style="padding-top: 130%">'+
              '<img src="'+ em.image +'?crop=center&amp;height=260&amp;v=1648906613&amp;width=200 260w" sizes="100px" class="img lazy" loading="lazy" width="326" height="391">'+
              '</figure>'+
              '</a>'+
              '<div class="content">'+
              '<a href="'+em.url+'">'+
              '<span class="title">'+em.title+'</span></a><div class="price">'+
              '<div class="item__price-list"><span class="item__price">₹ '+ parseFloat(em.final_price / 100) +'</span></div></div><div class="item__properties"></div>'+
              '<div class="quant-selector"><a  class="quant-variable minus-btn less" data-variantid="'+ em.variant_id + '"  href="javascript:void(0)"><img src="https://cdn.shopify.com/s/files/1/0555/4018/7214/files/39384297500c145afa524e1721a04663.svg?v=1650276446"></a>'+
              '<input  class="qty js-qty" type="number"   value="' + em.quantity + '" min="0" aria-label="Quantity1">'+
              '<a  class="quant-variable plus-btn more" data-variantid="'+ em.variant_id + '"  href="javascript:void(0)"><img src="https://cdn.shopify.com/s/files/1/0555/4018/7214/files/18dddcc9cf53b547eaf0f76c308502f6_e2c6dbb9-0564-4b89-be39-282da393cb9c.svg?v=1650276446"></a></div>'+
              '</div>'+
              '</div>'+
              '<div class="actions">'+
              '<a href="#" class="remove" data-variantid="'+ em.variant_id + '" data-index="'+ix+'" title="Remove item from cart" aria-label="Remove item from cart" data-href="/cart/change?line=1&amp;quantity=0"><span aria-hidden="true"><svg aria-hidden="true" focusable="false" role="presentation" width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.41418 0L16.9705 15.5563L15.5563 16.9706L-2.89679e-05 1.41421L1.41418 0Z" fill="#111111"></path><path d="M16.9706 1.41431L1.41423 16.9707L1.85966e-05 15.5564L15.5564 9.31025e-05L16.9706 1.41431Z" fill="#111111"></path></svg></span></a>'+
              '</div></div>';

            cart_structure1 += '<li  class="cart_product " id="'+prm+'" data-pro_handle="' + em.url + '" data-variantid="' + em.variant_id + '"><div class="image-info"><div class="image"><img src="'+ em.image +'" width="90px"/></div><div class="product-information"><span> '+ em.title +' </span><span class="price">Price - '+ parseFloat(em.final_line_price / 100) +'</span><div class="qty-input bold js-cart-variant-update">\
  <i class="less" data-variantid="'+ em.variant_id + '"> </i> <input class="js-qty" type="text" data-variantid="'+ em.variant_id + '" value="' + em.quantity + '"> <i class="more" data-variantid="'+ em.variant_id + '"></i>\
  </div></div><div class="edit-product" data-variantid="'+ em.variant_id + '"><img src="https://cdn.shopify.com/s/files/1/0136/9754/8374/files/edit.svg?v=1637914055"></div><div class="remove-pro"><a href="#" class="remove-pro-cart" data-variantid="'+ em.variant_id + '" data-index="'+ix+'">remove</a></div></div></li>';
          }
        });

        $('.sub-total span').html('₹ '+data.items_subtotal_price/ 100);
        $('.totalling span').html('₹ '+data.total_price/ 100);

        $('.cart-items').html(cart_structure);


        $('.demo123').html(data.item_count);
      }
    });


  }


  $(document).on('click','.col-add-btn',function(){
    event.preventDefault();
    var ID = $(this).parent().find('.item-varid').val();
    $.ajax({
      type: 'POST',
      url: '/cart/add.js',
      data: {
        quantity: 1,
        id: ID
      },
      dataType: 'json',
      success: function (data) {
        $('.site-cart-heading').text(data.quantity+' PRODUCT IN YOUR CART');
        refreshCart();
      }
    });
  });



  $(document).on('click','.remove',function(e){
    var variant_id = $(e.target).attr("data-variantid");
    var data_attr_val = $(this).attr("data-index");
    var data_pro_index = parseInt(data_attr_val)+1;
    console.log(data_attr_val);
    var quantity = 0;
    $.ajax({
      url: "/cart/change.js",
      data: {
        line: data_pro_index,
        quantity: 0
      },
      datatype:"JSON",
      method:"POST",
      success: function(data){
        refreshCart();
      }
    })
  });


  $(document).on('click','.less',function(e){
    var variant_id = $(e.target).attr("data-variantid");
    var quantity = $(this).parent().find('.js-qty').val();
    console.log(quantity-1);
    $.ajax({
      url: "/cart/change.js",
      data: {id: variant_id, quantity: quantity-1},
      datatype:"JSON",
      method:"POST",
      success: function(data){
        refreshCart();
      }
    })
  });


  $(document).on('click','.more',function(e){
    var variant_id = $(e.target).attr("data-variantid");
    var current_val = $(this).prev(".js-qty").val(parseInt(jQuery(this).prev(".js-qty").val())+1);

    var updated_val =  $(this).parent().find('.js-qty').val() ;

          setTimeout(function() {

            console.log(updated_val);
            $.ajax({
              url: "/cart/change.js",
              data: {id: variant_id, quantity:updated_val},
              datatype:"JSON",
              method:"POST",
              success: function(data){
                refreshCart();
              }
            });

          }, 2500);
  });
    </script>
-->

<style>
        .second-text a{
          color: #ff3fb5;
          text-decoration: underline;
        }
      .major-use span{
        color: #ff8f1a!important;
      }
        .product-variant__item   {
      position: relative;
      display: inline-block;
    }
        .product-variant__item .tooltiptext {
        visibility: hidden;
    /*     width: 120px; */
       font-size: 14px;
        color: #000;
          font-family: inter;
          font-weight: 500;
        text-align: center;
        padding: 0px 15px;
        border-radius: 6px;
        position: absolute;
        z-index: 1;
        left: 50%;
          transform: translateX(-50%);
        top: -70px;
          background-color: #fff;
          text-shadow: #ff40b7 1px 0 10px;
    }

        .product-variant__item:hover .tooltiptext {
      visibility: visible;
    }
        .product-item__variant:hover .absoluted-title-variant{
        display: block;
        }
    #preview_container{
     box-shadow: none;
      text-align: center;
          border: 3px solid #ff3fb5;
    }
        .easy_donation_title{
          font-weight: 700;
        font-size: 2em;
        font-family: Inter;
        margin-bottom: 5px;
        color: #ff3fb5;
        }
    .display_title{
    font-size: 1.4em;
    }
    .product-image{
      margin: auto!important;
        width: max-content!important;
    }
        .display_description{
         font-weight: 500;
        font-size: 1.4em!important;
        text-transform: capitalize;
        font-family: 'Inter';
        }
        .donation_button{
          margin-bottom: 0;
          background-color: #000;
          color: #fff;
        }
         .template-product .product-gallery{
            z-index: 9!important;
          }
        .nec-reviewstars{
          justify-content: inherit!important;
        }
        @media only screen and (max-width: 768px) {
     .set-mobile-position ,.product__variants {
      padding-left: 15px;
      }
    }
  .toggle[data-index="12"], .toggle[data-index="13"], .toggle[data-index="14"], .toggle[data-index="15"], .toggle[data-index="16"], .toggle[data-index="17"], .toggle[data-index="18"], .toggle[data-index="19"] {
      display: none;
    }
     .userslooking{

        font-weight: 500;
        color: #ff3eb5;

     }
        .product-gallery__no{
          display: none!important;
        }
        .variant-sliders{
          /* display: none; */
        }
</style>
{% if product.handle == 'over-dew-primer' %}
  <style>
      .toggle[data-index="10"], .toggle[data-index="11"], .toggle[data-index="12"], .toggle[data-index="13"], .toggle[data-index="14"], .toggle[data-index="15"], .toggle[data-index="16"], .toggle[data-index="17"], .toggle[data-index="18"], .toggle[data-index="19"] {
      display: block;
    }
  </style>
{% endif %}
{% if product.handle == 'matte-up-foundation' %}
  <style>
      .toggle[data-index="10"], .toggle[data-index="11"], .toggle[data-index="12"], .toggle[data-index="13"], .toggle[data-index="14"], .toggle[data-index="15"], .toggle[data-index="16"], .toggle[data-index="17"], .toggle[data-index="18"] {
      display: block;
    }
  </style>
{% endif %}
{% if product.handle == 'calm-on-foundation' %}
  <style>
      .toggle[data-index="10"], .toggle[data-index="11"], .toggle[data-index="12"], .toggle[data-index="13"], .toggle[data-index="14"], .toggle[data-index="15"], .toggle[data-index="16"], .toggle[data-index="17"]{
      display: block;
    }
  </style>
{% endif %}
{% if product.handle == 'zit-quit-concealer' %}
  <style>
      .toggle[data-index="10"], .toggle[data-index="11"], .toggle[data-index="12"], .toggle[data-index="13"], .toggle[data-index="14"], .toggle[data-index="15"]{
      display: block;
    }
  </style>
{% endif %}
{% if product.handle == 'get-even-primer' %}
  <style>
      .toggle[data-index="10"], .toggle[data-index="11"], .toggle[data-index="12"], .toggle[data-index="13"], .toggle[data-index="14"], .toggle[data-index="15"], .toggle[data-index="16"]{
      display: block;
    }
  </style>
{% endif %}
{% if product.handle == 'get-even-serum-foundation' %}
  <style>
      .toggle[data-index="10"], .toggle[data-index="11"], .toggle[data-index="12"], .toggle[data-index="13"], .toggle[data-index="14"]{
      display: block;
    }
  </style>
{% endif %}
{% if product.handle == 'decrease-foundation' %}
  <style>
      .toggle[data-index="10"], .toggle[data-index="11"], .toggle[data-index="12"], .toggle[data-index="13"], .toggle[data-index="14"], .toggle[data-index="15"], .toggle[data-index="16"], .toggle[data-index="17"], .toggle[data-index="18"]{
      display: block;
    }
  </style>
{% endif %}
{% if product.handle == 'matte-up-balancing-primer' %}
  <style>
      .toggle[data-index="10"], .toggle[data-index="11"], .toggle[data-index="12"], .toggle[data-index="13"], .toggle[data-index="14"], .toggle[data-index="15"], .toggle[data-index="16"], .toggle[data-index="17"], .toggle[data-index="18"]{
      display: block;
    }
  </style>
{% endif %}
{% if product.handle == 'light-up-lip-shimmer' %}
  <style>
      .toggle[data-index="10"], .toggle[data-index="11"], .toggle[data-index="12"], .toggle[data-index="13"], .toggle[data-index="14"], .toggle[data-index="15"], .toggle[data-index="16"], .toggle[data-index="17"]{
      display: block;
    }
  </style>
{% endif %}
{% if product.handle == 'eye-light-concealer' %}
  <style>
      .toggle[data-index="10"], .toggle[data-index="11"], .toggle[data-index="12"], .toggle[data-index="13"], .toggle[data-index="14"], .toggle[data-index="15"], .toggle[data-index="16"], .toggle[data-index="17"]{
      display: block;
    }
  </style>
{% endif %}
{% if product.handle == 'soak-it-lip-shimmer' %}
  <style>
      .toggle[data-index="10"], .toggle[data-index="11"], .toggle[data-index="12"], .toggle[data-index="13"], .toggle[data-index="14"], .toggle[data-index="15"], .toggle[data-index="16"], .toggle[data-index="17"]{
      display: block;
    }
  </style>
{% endif %}

{% if product.handle == 'eyelight-eyeshadow-sticks' %}
  <style>
      .toggle[data-index="10"], .toggle[data-index="11"], .toggle[data-index="12"], .toggle[data-index="13"], .toggle[data-index="14"], .toggle[data-index="15"], .toggle[data-index="16"], .toggle[data-index="17"], .toggle[data-index="18"], .toggle[data-index="19"]{
      display: block;
    }
      .hidden{
        display: none;
      }
  </style>
{% endif %}
<style>
       .variant-sliders{
      visibility: hidden;
      height: 0;
    }
    @media only screen and (max-width: 600px) {
   .product-gallery__navigation{
      display: none!important;
    }
  }
</style>
<script>
         document.addEventListener("DOMContentLoaded", function() {
  // Get all toggle-tab elements
  const toggleTabs = document.querySelectorAll('toggle-tab');

  // Iterate through each toggle-tab element
  toggleTabs.forEach(toggleTab => {
    // Find the toggle__content element
    const toggleContent = toggleTab.querySelector('.toggle__content.rte');

    // Check if toggleContent is empty
    if (!toggleContent || toggleContent.innerHTML.trim() === '') {
      // Remove the toggleTab from the DOM
      toggleTab.remove();
    }
  });
  $(document).ready(function() {
    var toggleTabs = $('toggle-tab');
    var toggleButton = $('<button>Show More</button>').attr('id', 'toggleButton');

    // Insert the button before the first toggle tab after data-index="5"
    toggleTabs.eq(5).after(toggleButton);

    // Initially hide toggle tabs after data-index="5"
    toggleTabs.slice(6).hide();

    // Toggle visibility of toggle tabs after data-index="5" on button click
    toggleButton.on('click', function() {
      toggleTabs.slice(6).slideToggle();

      // Update button text based on visibility state
      toggleButton.text(function(i, text) {
        return text === 'Show More' ? 'Show Less' : 'Show More';
      });
    });
  });

  });
</script>
<!--
  <script>
    // Generate a random number between 1 and 20
    var randomNumber = Math.floor(Math.random() * 20) + 1;

    // Display the number of users looking at the product
    var usersLookingElement = document.querySelector('.userslooking');
    usersLookingElement.textContent = "🔥 " + randomNumber + " users are looking at the product. 🔥";
  </script>
-->
{% comment %}
      {% if product.handle == 'light-up-lipstick'  or product.handle == 'soak-it-lipstick'%}
   <script>
    window.onload = function() {
    const variantSliders = document.querySelectorAll('.variant-sliders');
    const outerGalleries = document.querySelectorAll('.outer-gallery');

    for (const slider of variantSliders) {
      slider.style.visibility = 'hidden';
      slider.style.height = '0';
    }

    document.querySelectorAll('.product-variant__item').forEach(function(item) {
      item.addEventListener('click', function() {
        const selectedVariant = item.dataset.attr;

        for (const gallery of outerGalleries) {
          gallery.style.visibility = 'hidden';
          gallery.style.height = '0';
        }

        const selectedGallery = document.querySelector('.outer-gallery[data-attr="' + selectedVariant + '"]');
        if (selectedGallery) {
          selectedGallery.style.visibility = 'visible';
          selectedGallery.style.height = 'unset';
          const productGalleryViewport = selectedGallery.querySelector('.inner-gallery .product-gallery__viewport');
          if (productGalleryViewport) {
            productGalleryViewport.style.height = 'auto';
          }
        }
      });
    });
  };

  </script>
  {% endif %}
{% endcomment %}
<style>
  .prod-thumbnails{
  overflow: hidden;
     display: flex;
     flex-wrap: nowrap;
     justify-content: left;
     margin-left: calc(var(--grid-width) / 12* 1);
  }
   .prod-thumbnails .product-gallery__item{
     max-width: 90px;
     height: max-content;
     margin-right: 10px;
   }
   .soldunits{
     color: #ff8f1a;
     font-weight: 800;
     margin: 0;
     margin-top: 0.5rem;
   }
</style>
<!--
  <script>
      document.addEventListener("DOMContentLoaded", function() {
      // Generate a random number between 5000 and 6000
      const unitsSold = Math.floor(Math.random() * 1000) + 5000;

      // Convert the number to 'x.xk' format
      const formattedUnitsSold = (unitsSold / 1000).toFixed(1) + "K units sold";

      // Display the result in the .soldunits element
      document.querySelector(".soldunits").textContent = formattedUnitsSold;
    });
  </script>
-->
<script>
    const csvFileUrl = 'https://cdn.shopify.com/s/files/1/0555/4018/7214/files/Untitled_spreadsheet_-_Sheet1_1.csv?v=1707234566';
    let zipcodeData = []; // Declare the zipcodeData as a global variable

    function fetchZipcodeDataFromCSV() {
      fetch(csvFileUrl)
        .then(response => response.text())
        .then(csvData => {
          const lines = csvData.split('\n');

          zipcodeData = [];

          for (let i = 1; i < lines.length; i++) {
            const data = lines[i].split(',');
            if (data.length === 3) {
              const entry = {
                zipcode: data[0].trim(),
                city: data[1].trim(),
                deliveryEstimate: getDeliveryEstimate(data[2].trim()),
              };
              zipcodeData.push(entry);
            }
          }
        })
        .catch(error => {
          console.error('Error fetching data from the CSV file:', error);
        });
    }

    function getDeliveryEstimate(value) {
      switch (value) {
        case "z_a":
          return "1 to 2 days";
        case "z_b":
          return "3 to 4 days";
        case "z_c":
          return "4 to 5 days";
        case "z_d":
          return "6 to 7 days";
        case "z_e":
          return "7 to 10 days";
        default:
          return "Unknown delivery estimate";
      }
    }

    function calculateDelivery() {
       event.preventDefault();
      const zipcodeInput = document.getElementById("zipcode").value;
      const resultDiv = document.getElementById("result");

      if (!zipcodeInput) {
        resultDiv.innerHTML = "PIN code cannot be blank.";
        return;
      }

      const deliveryInfo = zipcodeData.find(entry => entry.zipcode === zipcodeInput);
      console.log("Delivery Info:", deliveryInfo); // Debug log to check the deliveryInfo

      if (deliveryInfo) {
        resultDiv.innerHTML = `
          <h2>Delivery Information</h2>
          <p>City: ${deliveryInfo.city}</p>
          <p>Estimated Delivery: ${deliveryInfo.deliveryEstimate}</p>
        `;
      } else {
        resultDiv.innerHTML = "Sorry, no information found for the entered zipcode.";
      }
    }

    // Call the function to fetch the zipcode data from the CSV file when the page loads
    fetchZipcodeDataFromCSV();
</script>
<style>
  .parent-slider{
    width: 100%;
  }
  .parent-slider{
    margin-bottom: 1rem;
  }
  .thumb-slider *{
    margin: 0 10px;
    cursor: pointer;
  }
  .parent-slider, .thumb-slider{
    position: relative;
  }
  .slick-prev{
    position: absolute;
    left: 0;
    top: 50%;
    transform: translateY(-50%);
    z-index: 9999;
    pointer: cursor;
  }
   .slick-prev img{
     max-width: 30px;
   }
  .slick-next img{
     max-width: 30px;
   }
   .slick-next{
    position: absolute;
    right: 0;
    top: 50%;
    transform: translateY(-50%);
    z-index: 9999;
    pointer: cursor;
  }
</style>
<script>
//     $('.parent-slider').slick({
//   slidesToShow: 1,
//   slidesToScroll: 1,
//   arrows: true,
//   fade: true,
//  prevArrow:"<button type='button' class='slick-prev pull-left'><img src='https://cdn.shopify.com/s/files/1/0555/4018/7214/files/back_1.png?v=1739942533'></button>",
//             nextArrow:"<button type='button' class='slick-next pull-right'><img src='https://cdn.shopify.com/s/files/1/0555/4018/7214/files/next.png?v=1739942526'></button>",
//       adaptiveHeight: true,
//   asNavFor: '.thumb-slider'
// });
// $('.thumb-slider').slick({
//   slidesToShow: 6,
//   slidesToScroll: 1,
//   asNavFor: '.parent-slider',
//   dots: false,
//  prevArrow:"<button type='button' class='slick-prev pull-left'><img src='https://cdn.shopify.com/s/files/1/0555/4018/7214/files/back_1.png?v=1739942533'></button>",
//             nextArrow:"<button type='button' class='slick-next pull-right'><img src='https://cdn.shopify.com/s/files/1/0555/4018/7214/files/next.png?v=1739942526'></button>",
//   arrows: true,
//   focusOnSelect: true
// });
// document.querySelectorAll('.product-variant__item').forEach(item => {
//     item.addEventListener('click', () => {
//         const dataAttrValue = item.getAttribute('data-attr');

//         const originalSlider = document.querySelector('.parent-slider');
//         const originalSlidersmall = document.querySelector('.thumb-slider');
//  const ooriginalSlider = document.querySelector('.parent-slider-original');

//         if (originalSlider) {
//             originalSlider.remove();
//         }
//         if (originalSlidersmall) {
//             originalSlidersmall.remove();
//         }

//         const newSlider = document.createElement('div');
//         newSlider.classList.add('parent-slider');
//        const newSlidertwo = document.createElement('div');
//         newSlidertwo.classList.add('thumb-slider');

//         if (ooriginalSlider) {
// // const matchingImages = Array.from(ooriginalSlider.querySelectorAll('img')).filter(img => {
// //   // Split the alt attribute by commas and trim whitespace
// //   const altTags = img.getAttribute('alt')?.split(',').map(tag => tag.trim()) || [];
// //   // Check if any of the alt tags match the data attribute value
// //   return altTags.includes(dataAttrValue);
// // });
//           // const matchingImages = ooriginalSlider.querySelectorAll(`img[alt="${dataAttrValue}"]`);

// //           matchingImages.forEach(element => {
// //     // Clone the element (whether it's an img or a video)
// //     const clonedElement = element.cloneNode(true);

// //     // Append the cloned element to the first slider
// //     newSlider.appendChild(clonedElement);

// //     // Clone it again for the second slider
// //     const clonedElementTwo = element.cloneNode(true);
// //     newSlidertwo.appendChild(clonedElementTwo);
// // });

//         } 
//         const productGallery = document.querySelector('.product__gallery');
//         if (productGallery) {
//             productGallery.appendChild(newSlider);
//           productGallery.appendChild(newSlidertwo);
//         }
// //         $('.parent-slider').slick({
// //             slidesToShow: 1,
// //             slidesToScroll: 1,
// //             arrows: true,
// //            prevArrow:"<button type='button' class='slick-prev pull-left'><img src='https://cdn.shopify.com/s/files/1/0555/4018/7214/files/back_1.png?v=1739942533'></button>",
// //             nextArrow:"<button type='button' class='slick-next pull-right'><img src='https://cdn.shopify.com/s/files/1/0555/4018/7214/files/next.png?v=1739942526'></button>",
// //             adaptiveHeight: true,
// //           asNavFor: '.thumb-slider'
// //         });
// //       $('.thumb-slider').slick({
// //   slidesToShow: 6,
// //   slidesToScroll: 1,
// //   asNavFor: '.parent-slider',
// //   prevArrow:"<button type='button' class='slick-prev pull-left'><img src='https://cdn.shopify.com/s/files/1/0555/4018/7214/files/back_1.png?v=1739942533'></button>",
// //             nextArrow:"<button type='button' class='slick-next pull-right'><img src='https://cdn.shopify.com/s/files/1/0555/4018/7214/files/next.png?v=1739942526'></button>",
// //   dots: false,
// //   arrows: true,
// //   focusOnSelect: true
// // });
//     });
// });


// document.querySelector('.product-variant__item')?.click();
</script>

<!--
  {% if product.handle contains 'lipstick' %}
    <script>
      $('.parent-slider').slick({
    slidesToShow: 1,
    slidesToScroll: 1,
    arrows: true,
    fade: true,
   prevArrow:"<button type='button' class='slick-prev pull-left'><img src='https://cdn.shopify.com/s/files/1/0555/4018/7214/files/back_1.png?v=1739942533'></button>",
              nextArrow:"<button type='button' class='slick-next pull-right'><img src='https://cdn.shopify.com/s/files/1/0555/4018/7214/files/next.png?v=1739942526'></button>",
        adaptiveHeight: true,
    asNavFor: '.thumb-slider'
  });
  $('.thumb-slider').slick({
    slidesToShow: 6,
    slidesToScroll: 1,
    asNavFor: '.parent-slider',
    dots: false,
   prevArrow:"<button type='button' class='slick-prev pull-left'><img src='https://cdn.shopify.com/s/files/1/0555/4018/7214/files/back_1.png?v=1739942533'></button>",
              nextArrow:"<button type='button' class='slick-next pull-right'><img src='https://cdn.shopify.com/s/files/1/0555/4018/7214/files/next.png?v=1739942526'></button>",
    arrows: true,
    focusOnSelect: true
  });
  document.querySelectorAll('.product-variant__item').forEach(item => {
      item.addEventListener('click', () => {
          const dataAttrValue = item.getAttribute('data-attr');

          const originalSlider = document.querySelector('.parent-slider');
          const originalSlidersmall = document.querySelector('.thumb-slider');
   const ooriginalSlider = document.querySelector('.parent-slider-original');

          if (originalSlider) {
              originalSlider.remove();
          }
          if (originalSlidersmall) {
              originalSlidersmall.remove();
          }

          const newSlider = document.createElement('div');
          newSlider.classList.add('parent-slider');
         const newSlidertwo = document.createElement('div');
          newSlidertwo.classList.add('thumb-slider');

          if (ooriginalSlider) {
  const matchingImages = Array.from(ooriginalSlider.querySelectorAll('img')).filter(img => {
    // Split the alt attribute by commas and trim whitespace
    const altTags = img.getAttribute('alt')?.split(',').map(tag => tag.trim()) || [];
    // Check if any of the alt tags match the data attribute value
    return altTags.includes(dataAttrValue);
  });
            // const matchingImages = ooriginalSlider.querySelectorAll(`img[alt="${dataAttrValue}"]`);

            matchingImages.forEach(element => {
      // Clone the element (whether it's an img or a video)
      const clonedElement = element.cloneNode(true);

      // Append the cloned element to the first slider
      newSlider.appendChild(clonedElement);

      // Clone it again for the second slider
      const clonedElementTwo = element.cloneNode(true);
      newSlidertwo.appendChild(clonedElementTwo);
  });

          } else {
          }

          const productGallery = document.querySelector('.product__gallery');
          if (productGallery) {
              productGallery.appendChild(newSlider);
            productGallery.appendChild(newSlidertwo);
          } else {
          }
          $('.parent-slider').slick({
              slidesToShow: 1,
              slidesToScroll: 1,
              arrows: true,
             prevArrow:"<button type='button' class='slick-prev pull-left'><img src='https://cdn.shopify.com/s/files/1/0555/4018/7214/files/back_1.png?v=1739942533'></button>",
              nextArrow:"<button type='button' class='slick-next pull-right'><img src='https://cdn.shopify.com/s/files/1/0555/4018/7214/files/next.png?v=1739942526'></button>",
              adaptiveHeight: true,
            asNavFor: '.thumb-slider'
          });
        $('.thumb-slider').slick({
    slidesToShow: 6,
    slidesToScroll: 1,
    asNavFor: '.parent-slider',
    prevArrow:"<button type='button' class='slick-prev pull-left'><img src='https://cdn.shopify.com/s/files/1/0555/4018/7214/files/back_1.png?v=1739942533'></button>",
              nextArrow:"<button type='button' class='slick-next pull-right'><img src='https://cdn.shopify.com/s/files/1/0555/4018/7214/files/next.png?v=1739942526'></button>",
    dots: false,
    arrows: true,
    focusOnSelect: true
  });
      });
  });


  document.querySelector('.product-variant__item')?.click();
    </script>
  {% endif %}
-->
